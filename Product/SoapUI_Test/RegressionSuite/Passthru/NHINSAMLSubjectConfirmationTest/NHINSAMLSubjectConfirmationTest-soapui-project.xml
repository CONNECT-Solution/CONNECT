<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project abortOnError="false" name="NHINSAMLSubjectConfirmation" resourceRoot="${projectDir}" runType="SEQUENTIAL" soapui-version="4.5.1" activeEnvironment="Default" id="449331bb-af1f-4163-a65d-a91b4cb5a884" xmlns:con="http://eviware.com/soapui/config">
  <con:settings/>
  <con:interface anonymous="optional" bindingName="{urn:gov:hhs:fha:nhinc:entitydocquery}EntityDocQueryBindingSoap" definition="../../../target/wsdl/EntityDocQuery.wsdl" name="EntityDocQueryBindingSoap" soapVersion="1_2" type="wsdl" wsaVersion="NONE" xsi:type="con:WsdlInterface" id="cca16490-63e3-4a26-a6d0-0be4cbad8f9f" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:endpoints>
      <con:endpoint>http://localhost:8080/Gateway/DocumentQuery/2_0/EntityService/EntityDocQueryUnsecured</con:endpoint>
      <con:endpoint>http://localhost:${HttpDefaultPort}/Gateway/DocumentQuery/2_0/EntityService/EntityDocQueryUnsecured</con:endpoint>
    </con:endpoints>
    <con:operation action="urn:gov:hhs:fha:nhinc:entitydocquery:RespondingGateway_CrossGatewayQueryRequest" anonymous="optional" bindingOperationName="RespondingGateway_CrossGatewayQuery" inputName="RespondingGateway_CrossGatewayQueryRequest" isOneWay="false" name="RespondingGateway_CrossGatewayQuery" outputName="RespondingGateway_CrossGatewayQueryResponse" receivesAttachments="false" sendsAttachments="false" type="Request-Response" id="7ef6d571-4429-4a47-8c06-4937659cb02f">
      <con:settings/>
    </con:operation>
  </con:interface>












  <con:interface xsi:type="con:WsdlInterface" wsaVersion="200508" name="AdapterDocQuerySecuredBindingSoap" type="wsdl" bindingName="{urn:gov:hhs:fha:nhinc:adapterdocquerysecured}AdapterDocQuerySecuredBindingSoap" soapVersion="1_2" anonymous="optional" definition="../../../target/wsdl/AdapterDocQuerySecured.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:endpoints>
      <con:endpoint>https://localhost:${HttpsDefaultPort}/Adapter/DocumentQuery/A_0/AdapterDocQuerySecured</con:endpoint>
    </con:endpoints>
    <con:operation isOneWay="false" action="urn:gov:hhs:fha:nhinc:adapterdocquerysecured:AdapterDocQueryRequestSecuredMessage" name="RespondingGateway_CrossGatewayQuery" bindingOperationName="RespondingGateway_CrossGatewayQuery" type="Request-Response" outputName="RespondingGateway_CrossGatewayQueryResponse" inputName="RespondingGateway_CrossGatewayQueryRequest" receivesAttachments="false" sendsAttachments="false" anonymous="optional">
      <con:settings/>
    </con:operation>
  </con:interface>
  <con:testSuite name="SAMLSubjectConfirmationTestSuite" id="15648530-46ad-479d-a785-8ee44ec5cd39">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" id="801f7f15-5164-41c3-907f-9c0a9db42262" keepSession="false" maxResults="0" name="HOK" searchProperties="true">
      <con:settings/>

      <con:testStep name="update config" type="groovy" id="02e8cce9-a642-48e3-ac08-797a19a95226">
        <con:settings/>
        <con:config>
          <script>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.updateProperty(dir, "gateway.properties", "documentQueryQuerySelf", "false", log);
nhinc.FileUtils.updateProperty(dir, "audit.properties", "QueryForDocuments", "false", log);
nhinc.FileUtils.createOrUpdateConnection("internalExchangeInfo.xml", dir, "1.1","adapterdocquerysecured", "http://localhost:1720/MockAdapterDocQuerySecured","LEVEL_a0", log);
          </script>
        </con:config>
      </con:testStep>


      <con:testStep name="Document Query" type="request" id="c282e88a-1b08-4dd1-b2cc-ca0fe2904472">
        <con:settings/>
        <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:interface>EntityDocQueryBindingSoap</con:interface>
          <con:operation>RespondingGateway_CrossGatewayQuery</con:operation>
          <con:request name="Document Query" id="22edb841-929c-488e-b74f-1f75464bab7a">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:8080/Gateway/DocumentQuery/3_0/EntityService/EntityDocQueryUnsecured</con:endpoint>
            <con:request><![CDATA[
              <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:gov:hhs:fha:nhinc:common:nhinccommonentity" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:urn3="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soap:Header/>
   <soap:Body testSuite="Entity_g1" testCase="Document Query">
      <urn:RespondingGateway_CrossGatewayQueryRequest>
         <urn1:AdhocQueryRequest federated="false" startIndex="0" maxResults="-1">
            <urn1:ResponseOption returnType="LeafClass" returnComposedObjects="false"/>
            <urn2:AdhocQuery home="urn:oid:1.1" id="urn:uuid:14d4debf-8f97-4251-9a74-a90016b0af0d">
               <urn2:Slot name="$XDSDocumentEntryPatientId">
                  <urn2:ValueList>
                     <urn2:Value>'${#Project#DQPatientID}^^^&amp;${#Project#LocalAA}&amp;ISO'</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryStatus">
                  <urn2:ValueList>
                     <urn2:Value>('urn:oasis:names:tc:ebxml-regrep:StatusType:Approved')</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
         <urn2:Slot name="$XDSDocumentEntryClassCode">
            <urn2:ValueList>
                    <urn2:Value>34133-9</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCodeScheme">
                  <urn2:ValueList>
                     <urn2:Value>2.16.840.1.113883.6.1</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
            </urn2:AdhocQuery>
         </urn1:AdhocQueryRequest>
         <urn:assertion>
            <urn3:homeCommunity xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:description>${#Project#LocalHCDescription}</urn3:description>
               <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
               <urn3:name>${#Project#LocalHCDescription}</urn3:name>
            </urn3:homeCommunity>
            <urn3:userInfo xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:personName>
                  <urn3:familyName>Skagerberg</urn3:familyName>
                  <urn3:givenName>Karl</urn3:givenName>
                  <urn3:nameType>
                     <urn3:code>nameCode</urn3:code>
                     <urn3:codeSystem>nameCodeSyst</urn3:codeSystem>
                     <urn3:codeSystemName>nameCodeSystName</urn3:codeSystemName>
                     <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                     <urn3:displayName>nameCode</urn3:displayName>
                     <urn3:originalText>nameCode</urn3:originalText>
                  </urn3:nameType>
                  <urn3:secondNameOrInitials>S</urn3:secondNameOrInitials>
                  <urn3:fullName>Kasrl S. Skagerberg</urn3:fullName>
               </urn3:personName>
               <urn3:userName>kskagerberg</urn3:userName>
               <urn3:org>
                  <urn3:description>${#Project#LocalHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#LocalHCDescription}</urn3:name>
               </urn3:org>
               <urn3:roleCoded>
                  <urn3:code>307969004</urn3:code>
                  <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                  <urn3:displayName>Public Health</urn3:displayName>
                  <urn3:originalText>Public Health</urn3:originalText>
               </urn3:roleCoded>
            </urn3:userInfo>
            <urn3:authorized xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">true</urn3:authorized>
            <urn3:purposeOfDisclosureCoded xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:code>PUBLICHEALTH</urn3:code>
               <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
               <urn3:displayName>Use or disclosure of Psychotherapy Notes</urn3:displayName>
               <urn3:originalText>Use or disclosure of Psychotherapy Notes</urn3:originalText>
            </urn3:purposeOfDisclosureCoded>
            <urn3:samlAuthnStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:authInstant>2009-04-16T13:15:39Z</urn3:authInstant>
               <urn3:sessionIndex>987</urn3:sessionIndex>
               <urn3:authContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:X509</urn3:authContextClassRef>
               <urn3:subjectLocalityAddress>1.1.1.1</urn3:subjectLocalityAddress>
               <urn3:subjectLocalityDNSName>connectopensource.org</urn3:subjectLocalityDNSName>
            </urn3:samlAuthnStatement>
         <urn3:samlAuthzDecisionStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:decision>Permit</urn3:decision>
               <urn3:resource>https://1.1.1.1:8181/SamlReceiveService/SamlProcessWS</urn3:resource>
               <urn3:action>TestSaml</urn3:action>
               <urn3:evidence>
                  <urn3:assertion>
                     <urn3:id>40df7c0a-ff3e-4b26-baeb-f2910f6d05a9</urn3:id>
                     <urn3:issueInstant>2009-04-16T13:10:39.093Z</urn3:issueInstant>
                     <urn3:version>2.0</urn3:version>
                     <urn3:issuerFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</urn3:issuerFormat>
                     <urn3:issuer>CN=SAML User,OU=connect,O=FHA,L=Melbourne,ST=FL,C=US</urn3:issuer>
                     <urn3:conditions>
                        <urn3:notBefore>2009-04-16T13:10:39.093Z</urn3:notBefore>
                        <urn3:notOnOrAfter>2009-12-31T12:00:00.000Z</urn3:notOnOrAfter>
                     </urn3:conditions>
                     <urn3:accessConsentPolicy>urn:oid:1.2.3.4</urn3:accessConsentPolicy>
                     <urn3:instanceAccessConsentPolicy>urn:oid:1.2.3.4.123456789</urn3:instanceAccessConsentPolicy>
                  </urn3:assertion>
               </urn3:evidence>
            </urn3:samlAuthzDecisionStatement>
            
         </urn:assertion>
         <urn:NhinTargetCommunities>
            <urn3:nhinTargetCommunity>
               <urn3:homeCommunity>
                  <urn3:description>${#Project#RemoteHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#RemoteHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#RemoteHCDescription}</urn3:name>
               </urn3:homeCommunity>
            </urn3:nhinTargetCommunity>
         </urn:NhinTargetCommunities>
      </urn:RespondingGateway_CrossGatewayQueryRequest>
   </soap:Body>
</soap:Envelope>
            ]]></con:request>
            <con:assertion type="SOAP Response" id="3a2644c1-6c1f-45da-bf42-3e90ad71ae27"/>
            <con:assertion type="Schema Compliance" id="f5752f9e-3892-41f2-81fb-e5f6de9fb298">
              <con:configuration/>
            </con:assertion>
            <con:assertion type="SOAP Fault Assertion" id="5d71223b-d686-4cb1-b133-6ff4de385ac5"/>
            <con:assertion name="DocID Match" type="GroovyScriptAssertion" id="024979c9-6566-4e32-a7eb-2f966460b317">
              <con:configuration>
                <scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
        def holder = groovyUtils.getXmlHolder( messageExchange.responseContent );
        holder.namespaces["ns1"] = "urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0";
        holder.namespaces["ns3"] = "urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0";

        def passThruOn = context.findProperty('PassThruOn').toBoolean();
        def documentID = null;
        if(passThruOn){
          documentID = context.findProperty('DQPTDocID');
        }else {
          documentID = context.findProperty('DQDocID')
        }

        log.info("Doc ID used: " + documentID);
        def msgDocID = holder["//ns1:AdhocQueryResponse[1]/ns3:RegistryObjectList[1]/ns3:ExtrinsicObject[1]/ns3:ExternalIdentifier[@identificationScheme='urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab']/@value"];
        assert (documentID == msgDocID)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>Global HTTP Settings</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:wsaConfig mustUnderstand="NONE" version="200508"/>
            <con:wsrmConfig version="1.2"/>
          </con:request>
        </con:config>
      </con:testStep>
      <con:setupScript>nhinc.FileUtils.backupConfiguration(context.findProperty('GatewayPropDir'), log);
nhinc.FileUtils.setG1ConnectionInfo(context.expand(context.testCase.testSuite.project.resourceRoot), context.findProperty('GatewayPropDir'), log);
context.setGatewayStandard(false);
def runner = testCase.testSuite.project.mockServices["MockDQAdapter"].start()
context.mockRunner = runner
context.mockRunner.getMockContext().setProperty('HOK', 'urn:oasis:names:tc:SAML:2.0:cm:holder-of-key');</con:setupScript>
      <con:tearDownScript>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.restoreConfiguration(dir, log);
def isStandardMode = context.checkGatewayMode("docquery.30.inboundDocQuery",context);
log.debug "Prepare to set gateway as standard(true) or passthrough(false) " + isStandardMode
context.setGatewayStandard(isStandardMode);
context.mockRunner.stop()
context.mockRunner.getMockContext().removeProperty('HOK');</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>startDate</con:name>
          <con:value>2018-04-27T15:12:30Z</con:value>
        </con:property>
        <con:property>
          <con:name>endDate</con:name>
          <con:value>2018-04-27T15:22:30Z</con:value>
        </con:property>
        <con:property>
          <con:name>sigDate</con:name>
          <con:value>04/27/2018 15:12:30</con:value>
        </con:property>
        <con:property>
          <con:name>expireDate</con:name>
          <con:value>2018-05-27T00:00:00Z</con:value>
        </con:property>
        <con:property>
          <con:name>FullPatientID</con:name>
          <con:value>'D123401^^^&amp;amp;1.1&amp;amp;ISO'</con:value>
        </con:property>
        <con:property>
          <con:name>PassThruOn</con:name>
          <con:value>true</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>


    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="HOK-Bear-SenderVouches" searchProperties="true" id="3bf7e402-23b5-4d8d-be1d-efe945ac6366">
      <con:description/>
      <con:settings/>

      <con:testStep name="update config" type="groovy">
        <con:settings/>
        <con:config>
          <script>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.updateProperty(dir, "gateway.properties", "documentQueryQuerySelf", "false", log);
nhinc.FileUtils.updateProperty(dir, "audit.properties", "QueryForDocuments", "false", log);
nhinc.FileUtils.createOrUpdateConnection("internalExchangeInfo.xml", dir, "1.1","adapterdocquerysecured", "http://localhost:1720/MockAdapterDocQuerySecured","LEVEL_a0", log);
          </script>
        </con:config>
      </con:testStep>


      <con:testStep name="Document Query" type="request">
        <con:settings/>
        <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:interface>EntityDocQueryBindingSoap</con:interface>
          <con:operation>RespondingGateway_CrossGatewayQuery</con:operation>
          <con:request name="Document Query" id="22edb841-929c-488e-b74f-1f75464bab7a">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:8080/Gateway/DocumentQuery/3_0/EntityService/EntityDocQueryUnsecured</con:endpoint>
            <con:request><![CDATA[
              <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:gov:hhs:fha:nhinc:common:nhinccommonentity" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:urn3="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soap:Header/>
   <soap:Body testSuite="Entity_g1" testCase="Document Query">
      <urn:RespondingGateway_CrossGatewayQueryRequest>
         <urn1:AdhocQueryRequest federated="false" startIndex="0" maxResults="-1">
            <urn1:ResponseOption returnType="LeafClass" returnComposedObjects="false"/>
            <urn2:AdhocQuery home="urn:oid:1.1" id="urn:uuid:14d4debf-8f97-4251-9a74-a90016b0af0d">
               <urn2:Slot name="$XDSDocumentEntryPatientId">
                  <urn2:ValueList>
                     <urn2:Value>'${#Project#DQPatientID}^^^&amp;${#Project#LocalAA}&amp;ISO'</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryStatus">
                  <urn2:ValueList>
                     <urn2:Value>('urn:oasis:names:tc:ebxml-regrep:StatusType:Approved')</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCode">
                  <urn2:ValueList>
                     <urn2:Value>34133-9</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCodeScheme">
                  <urn2:ValueList>
                     <urn2:Value>2.16.840.1.113883.6.1</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
            </urn2:AdhocQuery>
         </urn1:AdhocQueryRequest>
         <urn:assertion>
            <urn3:homeCommunity xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:description>${#Project#LocalHCDescription}</urn3:description>
               <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
               <urn3:name>${#Project#LocalHCDescription}</urn3:name>
            </urn3:homeCommunity>
            <urn3:userInfo xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:personName>
                  <urn3:familyName>Skagerberg</urn3:familyName>
                  <urn3:givenName>Karl</urn3:givenName>
                  <urn3:nameType>
                     <urn3:code>nameCode</urn3:code>
                     <urn3:codeSystem>nameCodeSyst</urn3:codeSystem>
                     <urn3:codeSystemName>nameCodeSystName</urn3:codeSystemName>
                     <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                     <urn3:displayName>nameCode</urn3:displayName>
                     <urn3:originalText>nameCode</urn3:originalText>
                  </urn3:nameType>
                  <urn3:secondNameOrInitials>S</urn3:secondNameOrInitials>
                  <urn3:fullName>Kasrl S. Skagerberg</urn3:fullName>
               </urn3:personName>
               <urn3:userName>kskagerberg</urn3:userName>
               <urn3:org>
                  <urn3:description>${#Project#LocalHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#LocalHCDescription}</urn3:name>
               </urn3:org>
               <urn3:roleCoded>
                  <urn3:code>307969004</urn3:code>
                  <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                  <urn3:displayName>Public Health</urn3:displayName>
                  <urn3:originalText>Public Health</urn3:originalText>
               </urn3:roleCoded>
            </urn3:userInfo>
            <urn3:purposeOfDisclosureCoded xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:code>PUBLICHEALTH</urn3:code>
               <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
               <urn3:displayName>Use or disclosure of Psychotherapy Notes</urn3:displayName>
               <urn3:originalText>Use or disclosure of Psychotherapy Notes</urn3:originalText>
            </urn3:purposeOfDisclosureCoded>            
            <urn3:authorized xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">true</urn3:authorized>            
            <urn3:samlAuthnStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:authInstant>2009-04-16T13:15:39Z</urn3:authInstant>
               <urn3:sessionIndex>987</urn3:sessionIndex>
               <urn3:authContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:X509</urn3:authContextClassRef>
               <urn3:subjectLocalityAddress>1.1.1.1</urn3:subjectLocalityAddress>
               <urn3:subjectLocalityDNSName>connectopensource.org</urn3:subjectLocalityDNSName>
            </urn3:samlAuthnStatement>
            <urn3:samlAuthzDecisionStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:decision>Permit</urn3:decision>
               <urn3:resource>https://1.1.1.1:8181/SamlReceiveService/SamlProcessWS</urn3:resource>
               <urn3:action>TestSaml</urn3:action>
               <urn3:evidence>
                  <urn3:assertion>
                     <urn3:id>40df7c0a-ff3e-4b26-baeb-f2910f6d05a9</urn3:id>
                     <urn3:issueInstant>2009-04-16T13:10:39.093Z</urn3:issueInstant>
                     <urn3:version>2.0</urn3:version>
                     <urn3:issuerFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</urn3:issuerFormat>
                     <urn3:issuer>CN=SAML User,OU=connect,O=FHA,L=Melbourne,ST=FL,C=US</urn3:issuer>
                     <urn3:conditions>
                        <urn3:notBefore>2009-04-16T13:10:39.093Z</urn3:notBefore>
                        <urn3:notOnOrAfter>2009-12-31T12:00:00.000Z</urn3:notOnOrAfter>
                     </urn3:conditions>
                     <urn3:accessConsentPolicy>urn:oid:1.2.3.4</urn3:accessConsentPolicy>
                     <urn3:instanceAccessConsentPolicy>urn:oid:1.2.3.4.123456789</urn3:instanceAccessConsentPolicy>
                  </urn3:assertion>
               </urn3:evidence>
            </urn3:samlAuthzDecisionStatement>
              <urn3:samlSubjectConfirmations>
               <urn3:method>urn:oasis:names:tc:SAML:2.0:cm:bearer</urn3:method>
               <urn3:recipient>tesbeaert</urn3:recipient>
               <urn3:inResponseTo>tesbeaert</urn3:inResponseTo>
               <urn3:address>1.1.1.1</urn3:address>
            </urn3:samlSubjectConfirmations>
             <urn3:samlSubjectConfirmations>
               <urn3:method>urn:oasis:names:tc:SAML:2.0:cm:sender-vouches</urn3:method>
               <urn3:recipient>test</urn3:recipient>
               <urn3:inResponseTo>test</urn3:inResponseTo>
               <urn3:address>127.0.0.1</urn3:address>
            </urn3:samlSubjectConfirmations>
         </urn:assertion>
         <urn:NhinTargetCommunities>
            <urn3:nhinTargetCommunity>
               <urn3:homeCommunity>
                  <urn3:description>${#Project#RemoteHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#RemoteHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#RemoteHCDescription}</urn3:name>
               </urn3:homeCommunity>
            </urn3:nhinTargetCommunity>
         </urn:NhinTargetCommunities>
      </urn:RespondingGateway_CrossGatewayQueryRequest>
   </soap:Body>
</soap:Envelope>
            ]]></con:request>
            <con:assertion type="SOAP Response" id="3a2644c1-6c1f-45da-bf42-3e90ad71ae27"/>
            <con:assertion type="Schema Compliance" id="f5752f9e-3892-41f2-81fb-e5f6de9fb298">
              <con:configuration/>
            </con:assertion>
            <con:assertion type="SOAP Fault Assertion" id="5d71223b-d686-4cb1-b133-6ff4de385ac5"/>

            <con:assertion type="GroovyScriptAssertion" name="DocID match">
              <con:configuration>
                <scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
        def holder = groovyUtils.getXmlHolder( messageExchange.responseContent );
        holder.namespaces["ns1"] = "urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0";
        holder.namespaces["ns3"] = "urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0";

        def passThruOn = context.findProperty('PassThruOn').toBoolean();
        def documentID = null;
        if(passThruOn){
          documentID = context.findProperty('DQPTDocID');
        }else {
          documentID = context.findProperty('DQDocID')
        }

        log.info("Doc ID used: " + documentID);
        def msgDocID = holder["//ns1:AdhocQueryResponse[1]/ns3:RegistryObjectList[1]/ns3:ExtrinsicObject[1]/ns3:ExternalIdentifier[@identificationScheme='urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab']/@value"];
        assert (documentID == msgDocID)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>Global HTTP Settings</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:wsaConfig mustUnderstand="NONE" version="200508"/>
            <con:wsrmConfig version="1.2"/>
          </con:request>
        </con:config>
      </con:testStep>
      <con:setupScript>nhinc.FileUtils.backupConfiguration(context.findProperty('GatewayPropDir'), log);
nhinc.FileUtils.setG1ConnectionInfo(context.expand(context.testCase.testSuite.project.resourceRoot), context.findProperty('GatewayPropDir'), log);
context.setGatewayStandard(false);
def runner = testCase.testSuite.project.mockServices["MockDQAdapter"].start()
context.mockRunner = runner
context.mockRunner.getMockContext().setProperty('HOK', 'urn:oasis:names:tc:SAML:2.0:cm:holder-of-key');
context.mockRunner.getMockContext().setProperty('SV', 'urn:oasis:names:tc:SAML:2.0:cm:sender-vouches');
context.mockRunner.getMockContext().setProperty('BEARER', 'urn:oasis:names:tc:SAML:2.0:cm:bearer');</con:setupScript>
      <con:tearDownScript>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.restoreConfiguration(dir, log);
def isStandardMode = context.checkGatewayMode("docquery.30.inboundDocQuery",context);
log.debug "Prepare to set gateway as standard(true) or passthrough(false) " + isStandardMode
context.setGatewayStandard(isStandardMode);

context.mockRunner.stop()
context.mockRunner.getMockContext().removeProperty('HOK');
context.mockRunner.getMockContext().removeProperty('SV');
context.mockRunner.getMockContext().removeProperty('BEARER');</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>startDate</con:name>
          <con:value>2018-04-27T15:13:17Z</con:value>
        </con:property>
        <con:property>
          <con:name>endDate</con:name>
          <con:value>2018-04-27T15:23:17Z</con:value>
        </con:property>
        <con:property>
          <con:name>sigDate</con:name>
          <con:value>04/27/2018 15:13:17</con:value>
        </con:property>
        <con:property>
          <con:name>expireDate</con:name>
          <con:value>2018-05-27T00:00:00Z</con:value>
        </con:property>
        <con:property>
          <con:name>FullPatientID</con:name>
          <con:value>'D123401^^^&amp;amp;1.1&amp;amp;ISO'</con:value>
        </con:property>
        <con:property>
          <con:name>PassThruOn</con:name>
          <con:value>true</con:value>
        </con:property>
        <con:property>
          <con:name>HOK</con:name>
          <con:value>urn:oasis:names:tc:SAML:2.0:cm:holder-of-key</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="HOK-SenderVouches" searchProperties="true" id="05231441-0fc8-4612-bfb9-ad906c18e59d">
      <con:description/>
      <con:settings/>

      <con:testStep name="update config" type="groovy">
        <con:settings/>
        <con:config>
          <script>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.updateProperty(dir, "gateway.properties", "documentQueryQuerySelf", "false", log);
nhinc.FileUtils.updateProperty(dir, "audit.properties", "QueryForDocuments", "false", log);
nhinc.FileUtils.createOrUpdateConnection("internalExchangeInfo.xml", dir, "1.1","adapterdocquerysecured", "http://localhost:1720/MockAdapterDocQuerySecured","LEVEL_a0", log);
          </script>
        </con:config>
      </con:testStep>


      <con:testStep name="Document Query" type="request">
        <con:settings/>
        <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:interface>EntityDocQueryBindingSoap</con:interface>
          <con:operation>RespondingGateway_CrossGatewayQuery</con:operation>
          <con:request name="Document Query" id="22edb841-929c-488e-b74f-1f75464bab7a">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:8080/Gateway/DocumentQuery/3_0/EntityService/EntityDocQueryUnsecured</con:endpoint>
            <con:request><![CDATA[
              <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:gov:hhs:fha:nhinc:common:nhinccommonentity" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:urn3="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soap:Header/>
   <soap:Body testSuite="Entity_g1" testCase="Document Query">
      <urn:RespondingGateway_CrossGatewayQueryRequest>
         <urn1:AdhocQueryRequest federated="false" startIndex="0" maxResults="-1">
            <urn1:ResponseOption returnType="LeafClass" returnComposedObjects="false"/>
            <urn2:AdhocQuery home="urn:oid:1.1" id="urn:uuid:14d4debf-8f97-4251-9a74-a90016b0af0d">
               <urn2:Slot name="$XDSDocumentEntryPatientId">
                  <urn2:ValueList>
                     <urn2:Value>'${#Project#DQPatientID}^^^&amp;${#Project#LocalAA}&amp;ISO'</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryStatus">
                  <urn2:ValueList>
                     <urn2:Value>('urn:oasis:names:tc:ebxml-regrep:StatusType:Approved')</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCode">
                  <urn2:ValueList>
                     <urn2:Value>34133-9</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCodeScheme">
                  <urn2:ValueList>
                     <urn2:Value>2.16.840.1.113883.6.1</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
            </urn2:AdhocQuery>
         </urn1:AdhocQueryRequest>
         <urn:assertion>
            <urn3:homeCommunity xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:description>${#Project#LocalHCDescription}</urn3:description>
               <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
               <urn3:name>${#Project#LocalHCDescription}</urn3:name>
            </urn3:homeCommunity>
            <urn3:userInfo xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:personName>
                  <urn3:familyName>Skagerberg</urn3:familyName>
                  <urn3:givenName>Karl</urn3:givenName>
                  <urn3:nameType>
                     <urn3:code>nameCode</urn3:code>
                     <urn3:codeSystem>nameCodeSyst</urn3:codeSystem>
                     <urn3:codeSystemName>nameCodeSystName</urn3:codeSystemName>
                     <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                     <urn3:displayName>nameCode</urn3:displayName>
                     <urn3:originalText>nameCode</urn3:originalText>
                  </urn3:nameType>
                  <urn3:secondNameOrInitials>S</urn3:secondNameOrInitials>
                  <urn3:fullName>Kasrl S. Skagerberg</urn3:fullName>
               </urn3:personName>
               <urn3:userName>kskagerberg</urn3:userName>
               <urn3:org>
                  <urn3:description>${#Project#LocalHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#LocalHCDescription}</urn3:name>
               </urn3:org>
               <urn3:roleCoded>
                  <urn3:code>307969004</urn3:code>
                  <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                  <urn3:displayName>Public Health</urn3:displayName>
                  <urn3:originalText>Public Health</urn3:originalText>
               </urn3:roleCoded>
            </urn3:userInfo>
            <urn3:purposeOfDisclosureCoded xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:code>PUBLICHEALTH</urn3:code>
               <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
               <urn3:displayName>Use or disclosure of Psychotherapy Notes</urn3:displayName>
               <urn3:originalText>Use or disclosure of Psychotherapy Notes</urn3:originalText>
            </urn3:purposeOfDisclosureCoded>            
            <urn3:authorized xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">true</urn3:authorized>            
            <urn3:samlAuthnStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:authInstant>2009-04-16T13:15:39Z</urn3:authInstant>
               <urn3:sessionIndex>987</urn3:sessionIndex>
               <urn3:authContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:X509</urn3:authContextClassRef>
               <urn3:subjectLocalityAddress>1.1.1.1</urn3:subjectLocalityAddress>
               <urn3:subjectLocalityDNSName>connectopensource.org</urn3:subjectLocalityDNSName>
            </urn3:samlAuthnStatement>
            <urn3:samlAuthzDecisionStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:decision>Permit</urn3:decision>
               <urn3:resource>https://1.1.1.1:8181/SamlReceiveService/SamlProcessWS</urn3:resource>
               <urn3:action>TestSaml</urn3:action>
               <urn3:evidence>
                  <urn3:assertion>
                     <urn3:id>40df7c0a-ff3e-4b26-baeb-f2910f6d05a9</urn3:id>
                     <urn3:issueInstant>2009-04-16T13:10:39.093Z</urn3:issueInstant>
                     <urn3:version>2.0</urn3:version>
                     <urn3:issuerFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</urn3:issuerFormat>
                     <urn3:issuer>CN=SAML User,OU=connect,O=FHA,L=Melbourne,ST=FL,C=US</urn3:issuer>
                     <urn3:conditions>
                        <urn3:notBefore>2009-04-16T13:10:39.093Z</urn3:notBefore>
                        <urn3:notOnOrAfter>2009-12-31T12:00:00.000Z</urn3:notOnOrAfter>
                     </urn3:conditions>
                     <urn3:accessConsentPolicy>urn:oid:1.2.3.4</urn3:accessConsentPolicy>
                     <urn3:instanceAccessConsentPolicy>urn:oid:1.2.3.4.123456789</urn3:instanceAccessConsentPolicy>
                  </urn3:assertion>
               </urn3:evidence>
            </urn3:samlAuthzDecisionStatement>            
             <urn3:samlSubjectConfirmations>
               <urn3:method>urn:oasis:names:tc:SAML:2.0:cm:sender-vouches</urn3:method>
               <urn3:recipient>test</urn3:recipient>
               <urn3:inResponseTo>test</urn3:inResponseTo>
               <urn3:address>127.0.0.1</urn3:address>
            </urn3:samlSubjectConfirmations>
         </urn:assertion>
         <urn:NhinTargetCommunities>
            <urn3:nhinTargetCommunity>
               <urn3:homeCommunity>
                  <urn3:description>${#Project#RemoteHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#RemoteHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#RemoteHCDescription}</urn3:name>
               </urn3:homeCommunity>
            </urn3:nhinTargetCommunity>
         </urn:NhinTargetCommunities>
      </urn:RespondingGateway_CrossGatewayQueryRequest>
   </soap:Body>
</soap:Envelope>
            ]]></con:request>
            <con:assertion type="SOAP Response" id="3a2644c1-6c1f-45da-bf42-3e90ad71ae27"/>
            <con:assertion type="Schema Compliance" id="f5752f9e-3892-41f2-81fb-e5f6de9fb298">
              <con:configuration/>
            </con:assertion>
            <con:assertion type="SOAP Fault Assertion" id="5d71223b-d686-4cb1-b133-6ff4de385ac5"/>

            <con:assertion type="GroovyScriptAssertion" name="DocID match">
              <con:configuration>
                <scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
        def holder = groovyUtils.getXmlHolder( messageExchange.responseContent );
        holder.namespaces["ns1"] = "urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0";
        holder.namespaces["ns3"] = "urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0";

        def passThruOn = context.findProperty('PassThruOn').toBoolean();
        def documentID = null;
        if(passThruOn){
          documentID = context.findProperty('DQPTDocID');
        }else {
          documentID = context.findProperty('DQDocID')
        }

        log.info("Doc ID used: " + documentID);
        def msgDocID = holder["//ns1:AdhocQueryResponse[1]/ns3:RegistryObjectList[1]/ns3:ExtrinsicObject[1]/ns3:ExternalIdentifier[@identificationScheme='urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab']/@value"];
        assert (documentID == msgDocID)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>Global HTTP Settings</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:wsaConfig mustUnderstand="NONE" version="200508"/>
            <con:wsrmConfig version="1.2"/>
          </con:request>
        </con:config>
      </con:testStep>
      <con:setupScript>nhinc.FileUtils.backupConfiguration(context.findProperty('GatewayPropDir'), log);
nhinc.FileUtils.setG1ConnectionInfo(context.expand(context.testCase.testSuite.project.resourceRoot), context.findProperty('GatewayPropDir'), log);
context.setGatewayStandard(false);
def runner = testCase.testSuite.project.mockServices["MockDQAdapter"].start()
context.mockRunner = runner
context.mockRunner.getMockContext().setProperty('HOK', 'urn:oasis:names:tc:SAML:2.0:cm:holder-of-key');
context.mockRunner.getMockContext().setProperty('SV', 'urn:oasis:names:tc:SAML:2.0:cm:sender-vouches');</con:setupScript>
      <con:tearDownScript>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.restoreConfiguration(dir, log);
def isStandardMode = context.checkGatewayMode("docquery.30.inboundDocQuery",context);
log.debug "Prepare to set gateway as standard(true) or passthrough(false) " + isStandardMode
context.setGatewayStandard(isStandardMode);

context.mockRunner.stop()
context.mockRunner.getMockContext().removeProperty('HOK');
context.mockRunner.getMockContext().removeProperty('SV');</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>startDate</con:name>
          <con:value>2018-04-27T15:13:25Z</con:value>
        </con:property>
        <con:property>
          <con:name>endDate</con:name>
          <con:value>2018-04-27T15:23:25Z</con:value>
        </con:property>
        <con:property>
          <con:name>sigDate</con:name>
          <con:value>04/27/2018 15:13:25</con:value>
        </con:property>
        <con:property>
          <con:name>expireDate</con:name>
          <con:value>2018-05-27T00:00:00Z</con:value>
        </con:property>
        <con:property>
          <con:name>FullPatientID</con:name>
          <con:value>'D123401^^^&amp;amp;1.1&amp;amp;ISO'</con:value>
        </con:property>
        <con:property>
          <con:name>PassThruOn</con:name>
          <con:value>true</con:value>
        </con:property>
        <con:property>
          <con:name>HOK</con:name>
          <con:value>urn:oasis:names:tc:SAML:2.0:cm:holder-of-key</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="HOK-Missing-SenderVouches" searchProperties="true" id="472b7b7c-d354-4e41-b55d-b679da1ae235">
      <con:description/>
      <con:settings/>

      <con:testStep name="update config" type="groovy">
        <con:settings/>
        <con:config>
          <script>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.updateProperty(dir, "gateway.properties", "documentQueryQuerySelf", "false", log);
nhinc.FileUtils.updateProperty(dir, "audit.properties", "QueryForDocuments", "false", log);
nhinc.FileUtils.createOrUpdateConnection("internalExchangeInfo.xml", dir, "1.1","adapterdocquerysecured", "http://localhost:1720/MockAdapterDocQuerySecured","LEVEL_a0", log);
          </script>
        </con:config>
      </con:testStep>


      <con:testStep name="Document Query" type="request">
        <con:settings/>
        <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:interface>EntityDocQueryBindingSoap</con:interface>
          <con:operation>RespondingGateway_CrossGatewayQuery</con:operation>
          <con:request name="Document Query" id="22edb841-929c-488e-b74f-1f75464bab7a">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:8080/Gateway/DocumentQuery/3_0/EntityService/EntityDocQueryUnsecured</con:endpoint>
            <con:request><![CDATA[
              <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:gov:hhs:fha:nhinc:common:nhinccommonentity" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:urn3="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soap:Header/>
   <soap:Body testSuite="Entity_g1" testCase="Document Query">
      <urn:RespondingGateway_CrossGatewayQueryRequest>
         <urn1:AdhocQueryRequest federated="false" startIndex="0" maxResults="-1">
            <urn1:ResponseOption returnType="LeafClass" returnComposedObjects="false"/>
            <urn2:AdhocQuery home="urn:oid:1.1" id="urn:uuid:14d4debf-8f97-4251-9a74-a90016b0af0d">
               <urn2:Slot name="$XDSDocumentEntryPatientId">
                  <urn2:ValueList>
                     <urn2:Value>'${#Project#DQPatientID}^^^&amp;${#Project#LocalAA}&amp;ISO'</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryStatus">
                  <urn2:ValueList>
                     <urn2:Value>('urn:oasis:names:tc:ebxml-regrep:StatusType:Approved')</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCode">
                  <urn2:ValueList>
                     <urn2:Value>34133-9</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
               <urn2:Slot name="$XDSDocumentEntryClassCodeScheme">
                  <urn2:ValueList>
                     <urn2:Value>2.16.840.1.113883.6.1</urn2:Value>
                  </urn2:ValueList>
               </urn2:Slot>
            </urn2:AdhocQuery>
         </urn1:AdhocQueryRequest>
         <urn:assertion>
            <urn3:homeCommunity xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:description>${#Project#LocalHCDescription}</urn3:description>
               <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
               <urn3:name>${#Project#LocalHCDescription}</urn3:name>
            </urn3:homeCommunity>
            <urn3:userInfo xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:personName>
                  <urn3:familyName>Skagerberg</urn3:familyName>
                  <urn3:givenName>Karl</urn3:givenName>
                  <urn3:nameType>
                     <urn3:code>nameCode</urn3:code>
                     <urn3:codeSystem>nameCodeSyst</urn3:codeSystem>
                     <urn3:codeSystemName>nameCodeSystName</urn3:codeSystemName>
                     <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                     <urn3:displayName>nameCode</urn3:displayName>
                     <urn3:originalText>nameCode</urn3:originalText>
                  </urn3:nameType>
                  <urn3:secondNameOrInitials>S</urn3:secondNameOrInitials>
                  <urn3:fullName>Kasrl S. Skagerberg</urn3:fullName>
               </urn3:personName>
               <urn3:userName>kskagerberg</urn3:userName>
               <urn3:org>
                  <urn3:description>${#Project#LocalHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#LocalHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#LocalHCDescription}</urn3:name>
               </urn3:org>
               <urn3:roleCoded>
                  <urn3:code>307969004</urn3:code>
                  <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
                  <urn3:displayName>Public Health</urn3:displayName>
                  <urn3:originalText>Public Health</urn3:originalText>
               </urn3:roleCoded>
            </urn3:userInfo>
            <urn3:purposeOfDisclosureCoded xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:code>PUBLICHEALTH</urn3:code>
               <urn3:codeSystemVersion>1.0</urn3:codeSystemVersion>
               <urn3:displayName>Use or disclosure of Psychotherapy Notes</urn3:displayName>
               <urn3:originalText>Use or disclosure of Psychotherapy Notes</urn3:originalText>
            </urn3:purposeOfDisclosureCoded>            
            <urn3:authorized xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">true</urn3:authorized>            
            <urn3:samlAuthnStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:authInstant>2009-04-16T13:15:39Z</urn3:authInstant>
               <urn3:sessionIndex>987</urn3:sessionIndex>
               <urn3:authContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:X509</urn3:authContextClassRef>
               <urn3:subjectLocalityAddress>1.1.1.1</urn3:subjectLocalityAddress>
               <urn3:subjectLocalityDNSName>connectopensource.org</urn3:subjectLocalityDNSName>
            </urn3:samlAuthnStatement>
            <urn3:samlAuthzDecisionStatement xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
               <urn3:decision>Permit</urn3:decision>
               <urn3:resource>https://1.1.1.1:8181/SamlReceiveService/SamlProcessWS</urn3:resource>
               <urn3:action>TestSaml</urn3:action>
               <urn3:evidence>
                  <urn3:assertion>
                     <urn3:id>40df7c0a-ff3e-4b26-baeb-f2910f6d05a9</urn3:id>
                     <urn3:issueInstant>2009-04-16T13:10:39.093Z</urn3:issueInstant>
                     <urn3:version>2.0</urn3:version>
                     <urn3:issuerFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</urn3:issuerFormat>
                     <urn3:issuer>CN=SAML User,OU=connect,O=FHA,L=Melbourne,ST=FL,C=US</urn3:issuer>
                     <urn3:conditions>
                        <urn3:notBefore>2009-04-16T13:10:39.093Z</urn3:notBefore>
                        <urn3:notOnOrAfter>2009-12-31T12:00:00.000Z</urn3:notOnOrAfter>
                     </urn3:conditions>
                     <urn3:accessConsentPolicy>urn:oid:1.2.3.4</urn3:accessConsentPolicy>
                     <urn3:instanceAccessConsentPolicy>urn:oid:1.2.3.4.123456789</urn3:instanceAccessConsentPolicy>
                  </urn3:assertion>
               </urn3:evidence>
            </urn3:samlAuthzDecisionStatement>            
         </urn:assertion>
         <urn:NhinTargetCommunities>
            <urn3:nhinTargetCommunity>
               <urn3:homeCommunity>
                  <urn3:description>${#Project#RemoteHCDescription}</urn3:description>
                  <urn3:homeCommunityId>${#Project#RemoteHCID}</urn3:homeCommunityId>
                  <urn3:name>${#Project#RemoteHCDescription}</urn3:name>
               </urn3:homeCommunity>
            </urn3:nhinTargetCommunity>
         </urn:NhinTargetCommunities>
      </urn:RespondingGateway_CrossGatewayQueryRequest>
   </soap:Body>
</soap:Envelope>
            ]]></con:request>
            <con:assertion type="SOAP Response" id="3a2644c1-6c1f-45da-bf42-3e90ad71ae27"/>
            <con:assertion type="Schema Compliance" id="f5752f9e-3892-41f2-81fb-e5f6de9fb298">
              <con:configuration/>
            </con:assertion>
            <con:assertion type="SOAP Fault Assertion" id="5d71223b-d686-4cb1-b133-6ff4de385ac5"/>

            <con:assertion type="XPath Match" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns13='urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0';
declare namespace ns12='urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0';
//ns13:AdhocQueryResponse[1]/ns12:RegistryErrorList[1]/ns12:RegistryError[1]/@codeContext</path>
                <content>Failure</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>Global HTTP Settings</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:wsaConfig mustUnderstand="NONE" version="200508"/>
            <con:wsrmConfig version="1.2"/>
          </con:request>
        </con:config>
      </con:testStep>
      <con:setupScript>nhinc.FileUtils.backupConfiguration(context.findProperty('GatewayPropDir'), log);
nhinc.FileUtils.setG1ConnectionInfo(context.expand(context.testCase.testSuite.project.resourceRoot), context.findProperty('GatewayPropDir'), log);
context.setGatewayStandard(false);
def runner = testCase.testSuite.project.mockServices["MockDQAdapter"].start()
context.mockRunner = runner
context.mockRunner.getMockContext().setProperty('HOK', 'urn:oasis:names:tc:SAML:2.0:cm:holder-of-key');
context.mockRunner.getMockContext().setProperty('SV', 'urn:oasis:names:tc:SAML:2.0:cm:sender-vouches');</con:setupScript>
      <con:tearDownScript>def dir = context.findProperty('GatewayPropDir');
nhinc.FileUtils.restoreConfiguration(dir, log);
def isStandardMode = context.checkGatewayMode("docquery.30.inboundDocQuery",context);
log.debug "Prepare to set gateway as standard(true) or passthrough(false) " + isStandardMode
context.setGatewayStandard(isStandardMode);

context.mockRunner.stop()
context.mockRunner.getMockContext().removeProperty('HOK');
context.mockRunner.getMockContext().removeProperty('SV');</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>startDate</con:name>
          <con:value>2018-04-27T15:13:30Z</con:value>
        </con:property>
        <con:property>
          <con:name>endDate</con:name>
          <con:value>2018-04-27T15:23:30Z</con:value>
        </con:property>
        <con:property>
          <con:name>sigDate</con:name>
          <con:value>04/27/2018 15:13:30</con:value>
        </con:property>
        <con:property>
          <con:name>expireDate</con:name>
          <con:value>2018-05-27T00:00:00Z</con:value>
        </con:property>
        <con:property>
          <con:name>FullPatientID</con:name>
          <con:value>'D123401^^^&amp;amp;1.1&amp;amp;ISO'</con:value>
        </con:property>
        <con:property>
          <con:name>PassThruOn</con:name>
          <con:value>true</con:value>
        </con:property>
        <con:property>
          <con:name>HOK</con:name>
          <con:value>urn:oasis:names:tc:SAML:2.0:cm:holder-of-key</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:properties/>
    <con:setupScript/>
    <con:tearDownScript/>
    <con:reportParameters/>
  </con:testSuite>

  <con:mockService port="1720" path="/MockAdapterDocQuerySecured" host="localhost" name="MockDQAdapter" dispatchResponseMessages="true" incomingWss="" bindToHostOnly="false" docroot="">
    <con:settings>
      <con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting>
    </con:settings>
    <con:mockOperation name="DQ_HOK_BEAR_SV" interface="AdapterDocQuerySecuredBindingSoap" operation="RespondingGateway_CrossGatewayQuery">
      <con:settings/>
      <con:dispatchPath>import com.eviware.soapui.support.XmlHolder;
def version = 0101;
log.debug "Before request xml version "+ version
def request = new XmlHolder(mockRequest.getRequestContent());
request.namespaces["saml2"] = "urn:oasis:names:tc:SAML:2.0:assertion";
request.namespaces["wsse"] = "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd";

def subjectConfirmations = request.getNodeValues("//wsse:Security/saml2:Assertion/saml2:Subject/saml2:SubjectConfirmation/@Method");

log.debug "subjectConfirmations "+ subjectConfirmations;
//def hok = context.expand('${#Global#HOK}');
//def hok =testRunner.testCase.getPropertyValue('HOK');
def hok = context.getProperty('HOK');
def sv = context.getProperty('SV');
def bearer = context.getProperty('BEARER');
log.debug "Print out context " + context
def expectMethods=[];
if (hok?.trim()){
  expectMethods.add(hok);
}
if (sv?.trim()){
  expectMethods.add(sv);
}
if (bearer?.trim()){
  expectMethods.add(bearer);
}

//def globalVariableList = Eval.me(globalVariables)

//expectMethods = expectMethods.collectEntries{[(it): it+1] };
expectMethods = expectMethods.sort{it.size()};
log.debug "retrieve from expected test result " + expectMethods
subjectConfirmations = subjectConfirmations.sort{it.size()};
log.debug "retrieve from actual test case " + subjectConfirmations
if (expectMethods == subjectConfirmations){
  mockOperation.setDefaultResponse("Success");
}else{
  mockOperation.setDefaultResponse("Failure");
  context.expectValue=expectMethods;
  context.actualValue=subjectConfirmations.toArrayString();
  //Expect value ${expectValue} is not the same as ${actualValue
}
/*
for (subjectConfirmation in subjectConfirmations){
  log.debug "Subject Confirmation Method "+ subjectConfirmation;
  expectMethods.remove(subjectConfirmation);
}
log.debug "After Number of pre-define subject confirmation methods "+expectMethods.size()
if (expectMethods.size() == 0){
  mockOperation.setDefaultResponse("Success");
}else{
  mockOperation.setDefaultResponse("Failure");
}
*/

      </con:dispatchPath>
      <con:dispatchStyle>SCRIPT</con:dispatchStyle>
      <con:defaultResponse>Failure</con:defaultResponse>
      <con:response name="Success" encoding="UTF-8">
        <con:settings/>
        <con:responseContent><![CDATA[
          <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
  <soap:Header/>  
  <soap:Body>
    <ns3:AdhocQueryResponse xmlns="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:ns2="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:ns3="urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0" xmlns:ns4="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" status="urn:oasis:names:tc:ebxml-regrep:ResponseStatusType:Success">
      <RegistryObjectList>
        <ExtrinsicObject home="urn:oid:1.1" id="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" isOpaque="false" mimeType="text/xml" objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1" status="Active">
          <Slot name="creationTime">
            <ValueList>
              <Value>20080617124906</Value>
            </ValueList>
          </Slot>
          <Slot name="hash">
            <ValueList>
              <Value>be56ce49a2a021c5c88bd4a3eef617ce5b94e002</Value>
            </ValueList>
          </Slot>
          <Slot name="intendedRecipient">
            <ValueList>
              <Value>Scott Borst</Value>
            </ValueList>
          </Slot>
          <Slot name="languageCode">
            <ValueList>
              <Value>en-US</Value>
            </ValueList>
          </Slot>
          <Slot name="legalAuthenticator">
            <ValueList>
              <Value>legal</Value>
            </ValueList>
          </Slot>
          <Slot name="serviceStartTime">
            <ValueList>
              <Value>19990320050000</Value>
            </ValueList>
          </Slot>
          <Slot name="serviceStopTime">
            <ValueList>
              <Value>20080101050000</Value>
            </ValueList>
          </Slot>
          <Slot name="size">
            <ValueList>
              <Value>30845</Value>
            </ValueList>
          </Slot>
          <Slot name="sourcePatientId">
            <ValueList>
              <Value>D123401^^^&amp;1.1&amp;ISO</Value>
            </ValueList>
          </Slot>
          <Slot name="sourcePatientInfo">
            <ValueList>
              <Value>PID-3|pid1^^^domain</Value>
              <Value>PID-5|Younger^Gallow^^^</Value>
              <Value>PID-7|19990627</Value>
              <Value>PID-8|M</Value>
              <Value>PID-11|1111 Main Street^^Kingsport^TN^37662^US</Value>
            </ValueList>
          </Slot>
          <Slot name="URI">
            <ValueList>
              <Value>1.123401.11111</Value>
            </ValueList>
          </Slot>
          <Slot name="repositoryUniqueId">
            <ValueList>
              <Value>1</Value>
            </ValueList>
          </Slot>
          <Name>
            <LocalizedString value="Younger CONNECT TESTGATEWAY Document 1"/>
          </Name>
          <Description>
            <LocalizedString value="Document 1 Younder CONNECT TESTGATEWAY comments"/>
          </Description>
          <Classification classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="">
            <Slot name="authorPerson">
              <ValueList>
                <Value>Dr. Joseph Hoodwink</Value>
              </ValueList>
            </Slot>
            <Slot name="authorInstitution">
              <ValueList>
                <Value>Main Children's Hospital</Value>
              </ValueList>
            </Slot>
            <Slot name="authorRole">
              <ValueList>
                <Value>Primary Care Provider</Value>
              </ValueList>
            </Slot>
            <Slot name="authorSpecialty">
              <ValueList>
                <Value>Pediatrician</Value>
              </ValueList>
            </Slot>
          </Classification>
          <Classification classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="34133-9">
            <Slot name="codingScheme">
              <ValueList>
                <Value>2.16.840.1.113883.6.1</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="Summarization of Episode Note"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="Confidential">
            <Slot name="codingScheme">
              <ValueList>
                <Value>Confidential</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="Confidential"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="CDAR2/IHE 1.0">
            <Slot name="codingScheme">
              <ValueList>
                <Value>formatCodeScheme_value</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="formatCodeDisplayName_value"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="UTF-8">
            <Slot name="codingScheme">
              <ValueList>
                <Value>UTF-8</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="UTF-8"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="test">
            <Slot name="codingScheme">
              <ValueList>
                <Value>test</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="test"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" classifiedObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" id="" nodeRepresentation="test">
            <Slot name="codingScheme">
              <ValueList>
                <Value>test</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="test"/>
            </Name>
          </Classification>
          <ExternalIdentifier id="" identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" registryObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" value="1.123401.11111">
            <Name>
              <LocalizedString value="XDSDocumentEntry.uniqueId"/>
            </Name>
          </ExternalIdentifier>
          <ExternalIdentifier id="" identificationScheme="urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427" registryObject="urn:uuid:55def7dd-531d-411c-a8b5-5eb8e2c95a79" value="D123401^^^&amp;1.1&amp;ISO">
            <Name>
              <LocalizedString value="XDSDocumentEntry.patientId"/>
            </Name>
          </ExternalIdentifier>
        </ExtrinsicObject>
        <ExtrinsicObject home="urn:oid:1.1" id="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" isOpaque="false" mimeType="text/xml" objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1" status="Active">
          <Slot name="creationTime">
            <ValueList>
              <Value>20070517124906</Value>
            </ValueList>
          </Slot>
          <Slot name="hash">
            <ValueList>
              <Value>e2cad0cdfdf929725a883067637d8268f6d9c578</Value>
            </ValueList>
          </Slot>
          <Slot name="intendedRecipient">
            <ValueList>
              <Value>Scott Borst</Value>
            </ValueList>
          </Slot>
          <Slot name="languageCode">
            <ValueList>
              <Value>en-US</Value>
            </ValueList>
          </Slot>
          <Slot name="legalAuthenticator">
            <ValueList>
              <Value>legal</Value>
            </ValueList>
          </Slot>
          <Slot name="serviceStartTime">
            <ValueList>
              <Value>20040320050000</Value>
            </ValueList>
          </Slot>
          <Slot name="serviceStopTime">
            <ValueList>
              <Value>20050101050000</Value>
            </ValueList>
          </Slot>
          <Slot name="size">
            <ValueList>
              <Value>31486</Value>
            </ValueList>
          </Slot>
          <Slot name="sourcePatientId">
            <ValueList>
              <Value>D123401^^^&amp;1.1&amp;ISO</Value>
            </ValueList>
          </Slot>
          <Slot name="sourcePatientInfo">
            <ValueList>
              <Value>PID-3|pid1^^^domain</Value>
              <Value>PID-5|Younger^Gallow^^^</Value>
              <Value>PID-7|19990627</Value>
              <Value>PID-8|M</Value>
              <Value>PID-11|1111 Main Street^^Kingsport^TN^37662^US</Value>
            </ValueList>
          </Slot>
          <Slot name="URI">
            <ValueList>
              <Value>1.123401.22222</Value>
            </ValueList>
          </Slot>
          <Slot name="repositoryUniqueId">
            <ValueList>
              <Value>1</Value>
            </ValueList>
          </Slot>
          <Name>
            <LocalizedString value="Younger CONNECT TESTGATEWAY Document 2"/>
          </Name>
          <Description>
            <LocalizedString value="Document 2 Younder CONNECT TESTGATEWAY comments"/>
          </Description>
          <Classification classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="">
            <Slot name="authorPerson">
              <ValueList>
                <Value>Dr. Joseph Hoodwink</Value>
              </ValueList>
            </Slot>
            <Slot name="authorInstitution">
              <ValueList>
                <Value>Main Children's Hospital</Value>
              </ValueList>
            </Slot>
            <Slot name="authorRole">
              <ValueList>
                <Value>Primary Care Provider</Value>
              </ValueList>
            </Slot>
            <Slot name="authorSpecialty">
              <ValueList>
                <Value>Pediatrician</Value>
              </ValueList>
            </Slot>
          </Classification>
          <Classification classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="34133-9">
            <Slot name="codingScheme">
              <ValueList>
                <Value>2.16.840.1.113883.6.1</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="Summarization of Episode Note"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="Confidential">
            <Slot name="codingScheme">
              <ValueList>
                <Value>Confidential</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="Confidential"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="CDAR2/IHE 1.0">
            <Slot name="codingScheme">
              <ValueList>
                <Value>formatCodeScheme_value</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="formatCodeDisplayName_value"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="UTF-8">
            <Slot name="codingScheme">
              <ValueList>
                <Value>UTF-8</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="UTF-8"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="test">
            <Slot name="codingScheme">
              <ValueList>
                <Value>test</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="test"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" classifiedObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" id="" nodeRepresentation="test">
            <Slot name="codingScheme">
              <ValueList>
                <Value>test</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="test"/>
            </Name>
          </Classification>
          <ExternalIdentifier id="" identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" registryObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" value="1.123401.22222">
            <Name>
              <LocalizedString value="XDSDocumentEntry.uniqueId"/>
            </Name>
          </ExternalIdentifier>
          <ExternalIdentifier id="" identificationScheme="urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427" registryObject="urn:uuid:83610c1b-e58d-4caf-a80a-dd0b07d7c449" value="D123401^^^&amp;1.1&amp;ISO">
            <Name>
              <LocalizedString value="XDSDocumentEntry.patientId"/>
            </Name>
          </ExternalIdentifier>
        </ExtrinsicObject>
        <ExtrinsicObject home="urn:oid:1.1" id="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" isOpaque="false" mimeType="text/xml" objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1" status="Active">
          <Slot name="creationTime">
            <ValueList>
              <Value>20080417124906</Value>
            </ValueList>
          </Slot>
          <Slot name="hash">
            <ValueList>
              <Value>a5c654f3db2f22284eb212fb941b4dba5c73f7d2</Value>
            </ValueList>
          </Slot>
          <Slot name="intendedRecipient">
            <ValueList>
              <Value>Scott Borst</Value>
            </ValueList>
          </Slot>
          <Slot name="languageCode">
            <ValueList>
              <Value>en-US</Value>
            </ValueList>
          </Slot>
          <Slot name="legalAuthenticator">
            <ValueList>
              <Value>legal</Value>
            </ValueList>
          </Slot>
          <Slot name="serviceStartTime">
            <ValueList>
              <Value>20060510040000</Value>
            </ValueList>
          </Slot>
          <Slot name="serviceStopTime">
            <ValueList>
              <Value>20080801040000</Value>
            </ValueList>
          </Slot>
          <Slot name="size">
            <ValueList>
              <Value>30666</Value>
            </ValueList>
          </Slot>
          <Slot name="sourcePatientId">
            <ValueList>
              <Value>D123401^^^&amp;1.1&amp;ISO</Value>
            </ValueList>
          </Slot>
          <Slot name="sourcePatientInfo">
            <ValueList>
              <Value>PID-3|pid1^^^domain</Value>
              <Value>PID-5|Younger^Gallow^^^</Value>
              <Value>PID-7|19990627</Value>
              <Value>PID-8|M</Value>
              <Value>PID-11|1111 Main Street^^Kingsport^TN^37662^US</Value>
            </ValueList>
          </Slot>
          <Slot name="URI">
            <ValueList>
              <Value>1.123401.33333</Value>
            </ValueList>
          </Slot>
          <Slot name="repositoryUniqueId">
            <ValueList>
              <Value>1</Value>
            </ValueList>
          </Slot>
          <Name>
            <LocalizedString value="Younger CONNECT TESTGATEWAY Document 3"/>
          </Name>
          <Description>
            <LocalizedString value="Document 3 Younder CONNECT TESTGATEWAY comments"/>
          </Description>
          <Classification classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="">
            <Slot name="authorPerson">
              <ValueList>
                <Value>Dr. Joseph Hoodwink</Value>
              </ValueList>
            </Slot>
            <Slot name="authorInstitution">
              <ValueList>
                <Value>Main Children's Hospital</Value>
              </ValueList>
            </Slot>
            <Slot name="authorRole">
              <ValueList>
                <Value>Primary Care Provider</Value>
              </ValueList>
            </Slot>
            <Slot name="authorSpecialty">
              <ValueList>
                <Value>Pediatrician</Value>
              </ValueList>
            </Slot>
          </Classification>
          <Classification classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="34133-9">
            <Slot name="codingScheme">
              <ValueList>
                <Value>2.16.840.1.113883.6.1</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="Summarization of Episode Note"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="Confidential">
            <Slot name="codingScheme">
              <ValueList>
                <Value>Confidential</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="Confidential"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="CDAR2/IHE 1.0">
            <Slot name="codingScheme">
              <ValueList>
                <Value>formatCodeScheme_value</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="formatCodeDisplayName_value"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="UTF-8">
            <Slot name="codingScheme">
              <ValueList>
                <Value>UTF-8</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="UTF-8"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="test">
            <Slot name="codingScheme">
              <ValueList>
                <Value>test</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="test"/>
            </Name>
          </Classification>
          <Classification classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" classifiedObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" id="" nodeRepresentation="test">
            <Slot name="codingScheme">
              <ValueList>
                <Value>test</Value>
              </ValueList>
            </Slot>
            <Name>
              <LocalizedString value="test"/>
            </Name>
          </Classification>
          <ExternalIdentifier id="" identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" registryObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" value="1.123401.33333">
            <Name>
              <LocalizedString value="XDSDocumentEntry.uniqueId"/>
            </Name>
          </ExternalIdentifier>
          <ExternalIdentifier id="" identificationScheme="urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427" registryObject="urn:uuid:3d165de5-c546-4e0a-9f65-54e263e16263" value="D123401^^^&amp;1.1&amp;ISO">
            <Name>
              <LocalizedString value="XDSDocumentEntry.patientId"/>
            </Name>
          </ExternalIdentifier>
        </ExtrinsicObject>
      </RegistryObjectList>
    </ns3:AdhocQueryResponse>
  </soap:Body>
</soap:Envelope>
        ]]></con:responseContent>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:gov:hhs:fha:nhinc:adapterdocquerysecured:AdapterDocQueryResponseSecuredMessage"/>
      </con:response>
      <con:response name="Failure" encoding="UTF-8">
        <con:settings/>
        <con:responseContent><![CDATA[
          <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:oasis:names:tc:ebxml-regrep:xsd:query:3.0" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">
   <soap:Header/>
   <soap:Body>
      <urn:AdhocQueryResponse status="Failure"  startIndex="0" totalResultCount="1">
         <urn2:RegistryObjectList>
         </urn2:RegistryObjectList>
         <urn1:RegistryErrorList highestSeverity="Error">
            
            <urn1:RegistryError codeContext="Failure" errorCode="1" severity="urn:oasis:names:tc:ebxml-regrep:ErrorSeverityType:Error">Expect value ${expectValue} is not the same as ${actualValue}</urn1:RegistryError>
         </urn1:RegistryErrorList>
      </urn:AdhocQueryResponse>
   </soap:Body>
</soap:Envelope>
        ]]></con:responseContent>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:gov:hhs:fha:nhinc:adapterdocquerysecured:AdapterDocQueryResponseSecuredMessage"/>
      </con:response>
      <con:dispatchConfig/>
    </con:mockOperation>
    <con:properties/>
  </con:mockService>
  <con:requirements/>
  <con:properties>




    <con:property>
      <con:name>AAMappingDB</con:name>
      <con:value>assigningauthoritydb</con:value>
    </con:property>
    <con:property>
      <con:name>AAMappingTable</con:name>
      <con:value>aa_to_home_community_mapping</con:value>
    </con:property>


    <con:property>
      <con:name>AuditRepoDB</con:name>
      <con:value>auditrepo</con:value>
    </con:property>
    <con:property>
      <con:name>AuditRepoTable</con:name>
      <con:value>auditrepository</con:value>
    </con:property>
    <con:property>
      <con:name>BirthTime</con:name>
      <con:value>19630804</con:value>
    </con:property>
    <con:property>
      <con:name>DateOfSignature</con:name>
      <con:value>20080520</con:value>
    </con:property>
    <con:property>
      <con:name>DBHost</con:name>
      <con:value>localhost</con:value>
    </con:property>
    <con:property>
      <con:name>DBPass</con:name>
      <con:value>nhincpass</con:value>
    </con:property>
    <con:property>
      <con:name>DBPort</con:name>
      <con:value>3306</con:value>
    </con:property>
    <con:property>
      <con:name>DBUser</con:name>
      <con:value>nhincuser</con:value>
    </con:property>

    <con:property>
      <con:name>DOB</con:name>
      <con:value>19800516</con:value>
    </con:property>
    <con:property>
      <con:name>DQDocID</con:name>
      <con:value>1.123401.55555</con:value>
    </con:property>
    <con:property>
      <con:name>DQPatientID</con:name>
      <con:value>D123401</con:value>
    </con:property>
    <con:property>
      <con:name>DQPTDocID</con:name>
      <con:value>1.123401.11111</con:value>
    </con:property>


    <con:property>
      <con:name>DynamicDQDocID</con:name>
      <con:value>103.8.9284320.020.3590.75^1266324032288</con:value>
    </con:property>
    <con:property>
      <con:name>ExpirationDate</con:name>
      <con:value>20100520</con:value>
    </con:property>
    <con:property>
      <con:name>FamilyName</con:name>
      <con:value>Younger</con:value>
    </con:property>
    <con:property>
      <con:name>GatewayPropDir</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>Gender</con:name>
      <con:value>M</con:value>
    </con:property>
    <con:property>
      <con:name>GivenName</con:name>
      <con:value>Gallow</con:value>
    </con:property>
    <con:property>
      <con:name>LocalAA</con:name>
      <con:value>1.1</con:value>
    </con:property>
    <con:property>
      <con:name>LocalHCDescription</con:name>
      <con:value>InternalTest1</con:value>
    </con:property>
    <con:property>
      <con:name>LocalHCID</con:name>
      <con:value>urn:oid:1.1</con:value>
    </con:property>
    <con:property>
      <con:name>LocalPatientID</con:name>
      <con:value>D123401</con:value>
    </con:property>
    <con:property>
      <con:name>PatientCorrelationDB</con:name>
      <con:value>patientcorrelationdb</con:value>
    </con:property>
    <con:property>
      <con:name>PatientCorrelationTable</con:name>
      <con:value>correlatedidentifiers</con:value>
    </con:property>
    <con:property>
      <con:name>project.name</con:name>
      <con:value>EntityValidation</con:value>
    </con:property>
    <con:property>
      <con:name>PurposeOfDisclosure</con:name>
      <con:value>Mental</con:value>
    </con:property>
    <con:property>
      <con:name>RemoteAA</con:name>
      <con:value>2.2</con:value>
    </con:property>
    <con:property>
      <con:name>RemoteHCDescription</con:name>
      <con:value>InternalTest2</con:value>
    </con:property>
    <con:property>
      <con:name>RemoteHCID</con:name>
      <con:value>urn:oid:2.2</con:value>
    </con:property>
    <con:property>
      <con:name>RemotePatientID</con:name>
      <con:value>D123401</con:value>
    </con:property>
    <con:property>
      <con:name>SSN</con:name>
      <con:value>123456789</con:value>
    </con:property>
    <con:property>
      <con:name>StreetAddress</con:name>
      <con:value>123 Johnson Rd</con:value>
    </con:property>
    <con:property>
      <con:name>SubjectID</con:name>
      <con:value>D123401</con:value>
    </con:property>
    <con:property>
      <con:name>UniquePatientId</con:name>
      <con:value>1111^^^&amp;amp;1.1&amp;amp;ISO</con:value>
    </con:property>
    <con:property>
      <con:name>ZipCode</con:name>
      <con:value>12345</con:value>
    </con:property>
    <con:property>
      <con:name>DQ_EntityEndpoint_g1</con:name>
      <con:value>http://localhost:8080/Gateway/DocumentQuery/3_0/EntityService/EntityDocQueryUnsecured</con:value>
    </con:property>
    <con:property>
      <con:name>DQ_EntityEndpoint_g0</con:name>
      <con:value>http://localhost:8080/Gateway/DocumentQuery/2_0/EntityService/EntityDocQueryUnsecured</con:value>
    </con:property>













    <con:property>
      <con:name>City</con:name>
      <con:value>Melbourne</con:value>
    </con:property>
    <con:property>
      <con:name>Country</con:name>
      <con:value>US</con:value>
    </con:property>
    <con:property>
      <con:name>State</con:name>
      <con:value>FL</con:value>
    </con:property>
    <con:property>
      <con:name>AsyncMsgTable</con:name>
      <con:value>asyncmsgrepo</con:value>
    </con:property>
    <con:property>
      <con:name>AsyncMsgDB</con:name>
      <con:value>asyncmsgs</con:value>
    </con:property>
    <con:property>
      <con:name>DeferredPatientDiscoveryReqMessageID</con:name>
      <con:value>uuid:6666666666.66666.666.66</con:value>
    </con:property>
    <con:property>
      <con:name>ASUsername</con:name>
      <con:value>admin</con:value>
    </con:property>
    <con:property>
      <con:name>ASPassword</con:name>
      <con:value>adminadmin</con:value>
    </con:property>
    <con:property>
      <con:name>JMXHost</con:name>
      <con:value>localhost</con:value>
    </con:property>
    <con:property>
      <con:name>JMXPort</con:name>
      <con:value>9990</con:value>
    </con:property>
  </con:properties>
  <con:afterLoadScript>def propertiesFilename = project.path[0..(project.path.size()-4)] + 'properties'
def propertiesFile = new File(propertiesFilename)
if (propertiesFile.exists()) {
  def props = new Properties()
  props.load(new FileInputStream(propertiesFile))
  props.each { key, value ->
      project.setPropertyValue(key, value)
  }
}

TimeZone.setDefault(TimeZone.getTimeZone("UTC"))
def testRunListener = [
afterRun: { testRunner, runContext -> },
afterStep: { testRunner, runContext, result -> },
beforeStep: { testRunner, runContext -> },
beforeStep: { testRunner, runContext, testStep -> },
beforeRun: { testRunner, runContext -> 
use (org.codehaus.groovy.runtime.TimeCategory) {
def startDate = 5.minutes.ago
def endDate = 5.minutes.from.now
def expireDate = 30.days.from.now

def df = "yyyy-MM-dd'T'HH:mm:ss'Z'"
def dfSig = "MM/dd/yyyy' 'HH:mm:ss"

runContext.testCase.setPropertyValue("startDate", startDate.format(df))
runContext.testCase.setPropertyValue("endDate", endDate.format(df))
runContext.testCase.setPropertyValue("sigDate", startDate.format(dfSig))
runContext.testCase.setPropertyValue("expireDate", expireDate.format(df))
}
}   
] as com.eviware.soapui.model.testsuite.TestRunListener

project.testSuiteList*.testCaseList.flatten()*.addTestRunListener(testRunListener)



com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.findProperty = { propertyName ->
return delegate.getProperty(propertyName) ?:
delegate.testCase.getPropertyValue(propertyName) ?:
delegate.testCase.testSuite.getPropertyValue(propertyName) ?:
delegate.testCase.testSuite.project.getPropertyValue(propertyName) ?:
com.eviware.soapui.SoapUI.globalProperties.getPropertyValue(propertyName)
}

com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.withSql = { dbOrPropertyName, block ->
def dbName = delegate.findProperty(dbOrPropertyName) ?: dbOrPropertyName
def host = delegate.findProperty('DBHost')
def port = delegate.findProperty('DBPort')
def user = delegate.findProperty('DBUser')
def pass = delegate.findProperty('DBPass')

def connectString = "jdbc:mysql://${host}:${port}/${dbName}"
def sql = groovy.sql.Sql.newInstance(connectString, user, pass, "com.mysql.jdbc.Driver");
try {
block(sql)
} finally {
sql.close()
}
}
// add jmx support to switch standard and passthrough
import javax.management.remote.JMXConnectorFactory as JmxFactory
import javax.management.remote.JMXServiceURL as JmxUrl
import javax.management.remote.*;

com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.getConfiguration = { ->
  def username = delegate.findProperty("ASUsername");
  def password = delegate.findProperty("ASPassword");
  def jmxHost = delegate.findProperty("JMXHost");
  def jmxPort = delegate.findProperty("JMXPort");

  // use jmx to set passthru mode
  def env = [
    (JMXConnector.CREDENTIALS): (String[])[username, password]
  ]
  def serverUrl = 'service:jmx:http-remoting-jmx://'+jmxHost+ ':' + jmxPort;
  def server = JmxFactory.connect(new JmxUrl(serverUrl), env).MBeanServerConnection
  def config = new GroovyMBean(server, 'org.connectopensource.mbeans:type=Configuration');
  return config;
}
com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.setGatewayStandard = { standard ->
  def username = delegate.findProperty("ASUsername");
  def password = delegate.findProperty("ASPassword");
  def jmxHost = delegate.findProperty("JMXHost");
  def jmxPort = delegate.findProperty("JMXPort");
  // use jmx to set passthru mode
  def env = [
    (JMXConnector.CREDENTIALS): (String[])[username, password]
  ];
def serverUrl = 'service:jmx:http-remoting-jmx://'+jmxHost+ ':' + jmxPort;
  def server = JmxFactory.connect(new JmxUrl(serverUrl), env);
  def config = new GroovyMBean(server.MBeanServerConnection, 'org.connectopensource.mbeans:type=Configuration');
  //set the Gateway to Standard Mode
    if (standard){
    config.setStandardMode();
  }
  else{
     config.setPassthruMode();  
  }
  server.close();
  return true;
}

com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.isStandard = { serviceName, direction ->
  def username = delegate.findProperty("ASUsername");
  def password = delegate.findProperty("ASPassword");
  def jmxHost = delegate.findProperty("JMXHost");
  def jmxPort = delegate.findProperty("JMXPort");
  // use jmx to set passthru mode
  def env = [
    (JMXConnector.CREDENTIALS): (String[])[username, password]
  ];
  def serverUrl = 'service:jmx:http-remoting-jmx://'+jmxHost+ ':' + jmxPort;

  def server = JmxFactory.connect(new JmxUrl(serverUrl), env);
  def config = new GroovyMBean(server.MBeanServerConnection, 'org.connectopensource.mbeans:type=Configuration');
  //set the Gateway to Standard Mode
  def isStandard = config.isStandard(serviceName, direction);
  server.close();
  return isStandard;
}

com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.setGatewayStandard = { standard, serviceName, direction ->
  def username = delegate.findProperty("ASUsername");
  def password = delegate.findProperty("ASPassword");
  def jmxHost = delegate.findProperty("JMXHost");
  def jmxPort = delegate.findProperty("JMXPort");
  log.info "Value of the Param Name -->"+name;
  // use jmx to set passthru mode
  def env = [
    (JMXConnector.CREDENTIALS): (String[])[username, password]
  ];
  def serverUrl = 'service:jmx:http-remoting-jmx://'+jmxHost+ ':' + jmxPort;
  log.info "Standard valud-->"+standard
  def server = JmxFactory.connect(new JmxUrl(serverUrl), env);
  def config = new GroovyMBean(server.MBeanServerConnection, 'org.connectopensource.mbeans:type=Configuration');
  //set the Gateway to Standard Mode
    if (standard){
    config.setStandardMode(serviceName, direction);
  }
  else{
     config.setPassthruMode(serviceName, direction);  
  }
  server.close();
  return true;
}
/*
 Return true if gateway.properties have standard mode set up
*/
com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext.metaClass.checkGatewayMode = {passthruProp, context ->
  log.info "calling checkGatewayMode for ${passthruProp}";
  def dir = context.findProperty('GatewayPropDir');
  def file = "gateway.properties";
  log.info "PassthruPro ${passthruProp} ";
  def passthruValue = nhinc.FileUtils.readProperty(dir, file, passthruProp, log);
  log.info "Passthrough property value = ${passthruValue} for key ${passthruProp}";
  if(passthruValue == null){
    return true;
  }else{
    return false;
   }
}
  </con:afterLoadScript>
  <con:wssContainer/>
  <con:databaseConnectionContainer/>
  <con:oAuth2ProfileContainer/>
  <con:reporting>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:xmlTemplates/>
    <con:parameters/>
  </con:reporting>
  <con:sensitiveInformation/>
</con:soapui-project>