<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <parent>
        <groupId>org.connectopensource</groupId>
        <artifactId>Deploy</artifactId>
        <version>4.8.0-SNAPSHOT</version>
    </parent>

    <artifactId>CONNECT-JB7</artifactId>
    <name>CONNECT JBoss7 EAR</name>
    <packaging>ear</packaging>
    <modelVersion>4.0.0</modelVersion>

    <dependencies>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>CONNECTCommonWeb</artifactId>
            <version>${project.parent.version}</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>CONNECTGatewayWeb</artifactId>
            <version>${project.parent.version}</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>CONNECTAdapterWeb</artifactId>
            <version>${project.parent.version}</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>AuditRepositoryEJB</artifactId>
            <version>${project.parent.version}</version>
            <type>ejb</type>
        </dependency>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>CONNECTCommonWeb</artifactId>
            <version>${project.parent.version}</version>
            <type>pom</type>
        </dependency>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>CONNECTGatewayWeb</artifactId>
            <version>${project.parent.version}</version>
            <type>pom</type>
        </dependency>
        <dependency>
            <groupId>org.connectopensource</groupId>
            <artifactId>CONNECTAdapterWeb</artifactId>
            <version>${project.parent.version}</version>
            <type>pom</type>
        </dependency>
    </dependencies>

    <build>
        <finalName>${project.artifactId}</finalName>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-ear-plugin</artifactId>
                <configuration>
                    <modules>
                        <ejbModule>
                            <groupId>org.connectopensource</groupId>
                            <artifactId>AuditRepositoryEJB</artifactId>
                        </ejbModule>
                        <webModule>
                            <groupId>org.connectopensource</groupId>
                            <artifactId>CONNECTCommonWeb</artifactId>
                            <contextRoot>/CONNECTCommon</contextRoot>
                        </webModule>
                        <webModule>
                            <groupId>org.connectopensource</groupId>
                            <artifactId>CONNECTGatewayWeb</artifactId>
                            <contextRoot>/CONNECTGateway</contextRoot>
                        </webModule>
                        <webModule>
                            <groupId>org.connectopensource</groupId>
                            <artifactId>CONNECTAdapterWeb</artifactId>
                            <contextRoot>/CONNECTAdapter</contextRoot>
                        </webModule>
                    </modules>
                    <version>6</version>
                    <defaultLibBundleDir>lib</defaultLibBundleDir>
                    <skinnyWars>true</skinnyWars>
                    <packagingExcludes>
                        lib/Properties-*.jar,
                        lib/asm*,lib/activation*,
                        lib/cglib*,lib/commons-dbcp*,
                        lib/commons-net*,lib/commons-pool*,
                        lib/cxf-rt-databinding-aegis*,lib/cxf-tools-common*,
                        lib/cxf-tools-validator*,lib/cxf-tools-wsdlto-core*.jar,
                        lib/cxf-tools-wsdlto-frontend-jaxws*.jar,
                        lib/esapi*,lib/enun*,
                        lib/Fast*,
                        lib/geronimo*,
                        lib/javax.servlet-api*,lib/json*,lib/jul*,lib/jsr311*,lib/jsr250*,lib/jackson*,
                        lib/jandex*,lib/javassist-3.4*,lib/jcip*,lib/jsr173*,
                        lib/not-yet*,
                        lib/servlet-api*,lib/stax-api*,lib/spring-webmvc*,lib/spring-jms*,lib/spring-messaging*,
                        lib/velocity*,
                        lib/xml-apis*,lib/xmlbeans*,lib/xmlpull*,lib/xml-resolver*,lib/xmltooling*,lib/xpp3*,lib/xstream*
                    </packagingExcludes>
                    <!-- Explode all archives on server (extremely time-consuming) -->
                    <!--includeLibInApplicationXml>true</includeLibInApplicationXml-->
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
