<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project name="PatientCorrelationFacade" resourceRoot="" soapui-version="2.5.1" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="ProjectSettings@projectRoot">C:\projects\nhinc\Current\Product\IntegrationTest</con:setting></con:settings><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="PatientCorrelationFacadeBinding" type="wsdl" bindingName="{urn:gov:hhs:fha:nhinc:componentpatientcorrelationfacade}PatientCorrelationFacadeBinding" soapVersion="1_1" anonymous="optional" definition="http://172.16.50.82:9080/PatientCorrelationFacadeService/PatientCorrelationFacadeService?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://172.16.50.82:9080/PatientCorrelationFacadeService/PatientCorrelationFacadeService?wsdl"><con:part><con:url>http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/../../../schemas/nhinc/common/NhincCommon.xsd</con:url><con:content><![CDATA[<xsd:schema elementFormDefault="qualified" targetNamespace="urn:gov:hhs:fha:nhinc:common:nhinccommon" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:addr="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:tns="urn:gov:hhs:fha:nhinc:common:nhinccommon">
  <xsd:import namespace="http://schemas.xmlsoap.org/ws/2004/08/addressing" schemaLocation="http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/../../../schemas/nhinc/common/../../xmlsoap.org/addressing.xsd"/>
  <xsd:complexType name="QualifiedSubjectIdentifierType">
    <xsd:sequence>
      <xsd:element name="SubjectIdentifier" type="xsd:string"/>
      <xsd:element name="AssigningAuthorityIdentifier" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="QualifiedSubjectIdentifier" type="tns:QualifiedSubjectIdentifierType"/>
  <xsd:complexType name="AcknowledgementType">
    <xsd:sequence>
      <xsd:element minOccurs="0" name="message" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Acknowledgement" type="tns:AcknowledgementType"/>
  <xsd:complexType name="QualifiedSubjectIdentifiersType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="QualifiedSubjectIdentifier" type="tns:QualifiedSubjectIdentifierType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="QualifiedSubjectIdentifiers" type="tns:QualifiedSubjectIdentifiersType"/>
  <xsd:complexType name="AssertionType">
    <xsd:sequence>
      <xsd:element name="address" type="tns:AddressType"/>
      <xsd:element name="dateOfBirth" type="xsd:string"/>
      <xsd:element name="dateOfSignature" type="xsd:string"/>
      <xsd:element name="expirationDate" type="xsd:string"/>
      <xsd:element name="explanationNonClaimantSignature" type="xsd:string"/>
      <xsd:element name="haveSecondWitnessSignature" type="xsd:boolean"/>
      <xsd:element name="haveSignature" type="xsd:boolean"/>
      <xsd:element name="haveWitnessSignature" type="xsd:boolean"/>
      <xsd:element name="homeCommunity" type="tns:HomeCommunityType"/>
      <xsd:element name="personName" type="tns:PersonNameType"/>
      <xsd:element name="phoneNumber" type="tns:PhoneType"/>
      <!--purposeOfDisclosure deprecated element-->
      <xsd:element name="purposeOfDisclosure" type="xsd:string"/>
      <xsd:element name="secondWitnessAddress" type="tns:AddressType"/>
      <xsd:element name="secondWitnessName" type="tns:PersonNameType"/>
      <xsd:element name="secondWitnessPhone" type="tns:PhoneType"/>
      <xsd:element name="SSN" type="xsd:string"/>
      <xsd:element maxOccurs="unbounded" name="uniquePatientId" type="xsd:string"/>
      <xsd:element name="witnessAddress" type="tns:AddressType"/>
      <xsd:element name="witnessName" type="tns:PersonNameType"/>
      <xsd:element name="witnessPhone" type="tns:PhoneType"/>
      <xsd:element name="userInfo" type="tns:UserType"/>
      <xsd:element name="authorized" type="xsd:boolean"/>
      <xsd:element minOccurs="0" name="purposeOfDisclosureCoded" type="tns:CeType"/>
      <xsd:element minOccurs="0" name="claimFormRef" type="xsd:string"/>
      <xsd:element minOccurs="0" name="claimFormRaw" type="xsd:base64Binary"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Assertion" type="tns:AssertionType"/>
  <xsd:complexType name="AddressType">
    <xsd:sequence>
      <xsd:element name="addressType" type="tns:CeType"/>
      <xsd:element name="city" type="xsd:string"/>
      <xsd:element name="country" type="xsd:string"/>
      <xsd:element name="state" type="xsd:string"/>
      <xsd:element name="streetAddress" type="xsd:string"/>
      <xsd:element name="zipCode" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Address" type="tns:AddressType"/>
  <xsd:complexType name="CeType">
    <xsd:sequence>
      <xsd:element name="code" type="xsd:string"/>
      <xsd:element name="codeSystem" type="xsd:string"/>
      <xsd:element name="codeSystemName" type="xsd:string"/>
      <xsd:element name="codeSystemVersion" type="xsd:string"/>
      <xsd:element name="displayName" type="xsd:string"/>
      <xsd:element name="originalText" type="xsd:string"/>
      <xsd:element maxOccurs="unbounded" name="translation" type="tns:CeType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Ce" type="tns:CeType"/>
  <xsd:complexType name="HomeCommunityType">
    <xsd:sequence>
      <xsd:element name="description" type="xsd:string"/>
      <xsd:element name="homeCommunityId" type="xsd:string"/>
      <xsd:element name="name" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="HomeCommunity" type="tns:HomeCommunityType"/>
  <xsd:complexType name="HomeCommunitiesType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="homeCommunity" type="tns:HomeCommunityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="HomeCommunities" type="tns:HomeCommunitiesType"/>
  <xsd:complexType name="PersonNameType">
    <xsd:sequence>
      <xsd:element name="familyName" type="xsd:string"/>
      <xsd:element name="givenName" type="xsd:string"/>
      <xsd:element name="nameType" type="tns:CeType"/>
      <xsd:element name="secondNameOrInitials" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="PersonName" type="tns:PersonNameType"/>
  <xsd:complexType name="PhoneType">
    <xsd:sequence>
      <xsd:element name="areaCode" type="xsd:string"/>
      <xsd:element name="countryCode" type="xsd:string"/>
      <xsd:element name="extension" type="xsd:string"/>
      <xsd:element name="localNumber" type="xsd:string"/>
      <xsd:element name="phoneNumberType" type="tns:CeType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Phone" type="tns:PhoneType"/>
  <xsd:complexType name="UserType">
    <xsd:sequence>
      <xsd:element name="personName" type="tns:PersonNameType"/>
      <xsd:element name="userName" type="xsd:string"/>
      <!--role deprecated element-->
      <xsd:element name="role" type="xsd:string"/>
      <xsd:element name="org" type="tns:HomeCommunityType"/>
      <xsd:element minOccurs="0" name="roleCoded" type="tns:CeType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="User" type="tns:UserType"/>
  <xsd:complexType name="EPRType">
    <xsd:sequence>
      <xsd:element name="EndpointReference" type="addr:EndpointReferenceType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="EPR" type="tns:EPRType"/>
  <xsd:complexType name="CreateEPRRequestType">
    <xsd:sequence>
      <xsd:element name="endpointURL" type="xsd:string"/>
      <xsd:element name="namespaceURI" type="xsd:string"/>
      <xsd:element name="namespacePrefix" type="xsd:string"/>
      <xsd:element name="serviceName" type="xsd:string"/>
      <xsd:element name="portName" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="CreateEPRRequest" type="tns:CreateEPRRequestType"/>
  <xsd:complexType name="NhinTargetSystemType">
    <xsd:choice>
      <xsd:element name="epr" type="tns:EPRType"/>
      <xsd:element name="homeCommunity" type="tns:HomeCommunityType"/>
      <xsd:element name="url" type="xsd:string"/>
    </xsd:choice>
  </xsd:complexType>
  <xsd:element name="NhinTargetSystem" type="tns:NhinTargetSystemType"/>
  <xsd:complexType name="ResponseType">
    <xsd:sequence>
      <xsd:element name="status" type="xsd:boolean"/>
      <xsd:element name="message" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Response" type="tns:ResponseType"/>
  <xsd:complexType name="TokenCreationInfoType">
    <xsd:sequence>
      <xsd:element name="assertion" type="tns:AssertionType"/>
      <xsd:element name="actionName" type="xsd:string"/>
      <xsd:element name="resourceName" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="TokenCreationInfo" type="tns:TokenCreationInfoType"/>
  <xsd:complexType name="TokenRetrieveInfoType">
    <xsd:sequence>
      <xsd:element name="request" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="TokenRetrieveInfo" type="tns:TokenRetrieveInfoType"/>
  <xsd:complexType name="AssigningAuthorityType">
    <xsd:sequence>
      <xsd:element name="assigningAuthorityId" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="AssigningAuthority" type="tns:AssigningAuthorityType"/>
  <xsd:complexType name="AssigningAuthoritiesType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="assigningAuthority" type="tns:AssigningAuthorityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="assigningAuthorites" type="tns:AssigningAuthoritiesType"/>
  <xsd:complexType name="NhinTargetCommunityType">
    <xsd:sequence>
      <xsd:element name="homeCommunity" type="tns:HomeCommunityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:complexType name="NhinTargetCommunitiesType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" name="nhinTargetCommunity" type="tns:NhinTargetCommunityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="NhinTargetCommunities" type="tns:NhinTargetCommunitiesType"/>
  <xsd:element name="NhinTargetCommunity" type="tns:NhinTargetCommunityType"/>
</xsd:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/NhincCommon.xsd</con:url><con:content><![CDATA[<xsd:schema elementFormDefault="qualified" targetNamespace="urn:gov:hhs:fha:nhinc:common:nhinccommon" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:addr="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:tns="urn:gov:hhs:fha:nhinc:common:nhinccommon">
  <xsd:import namespace="http://schemas.xmlsoap.org/ws/2004/08/addressing" schemaLocation="http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/../../xmlsoap.org/addressing.xsd"/>
  <xsd:complexType name="QualifiedSubjectIdentifierType">
    <xsd:sequence>
      <xsd:element name="SubjectIdentifier" type="xsd:string"/>
      <xsd:element name="AssigningAuthorityIdentifier" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="QualifiedSubjectIdentifier" type="tns:QualifiedSubjectIdentifierType"/>
  <xsd:complexType name="AcknowledgementType">
    <xsd:sequence>
      <xsd:element minOccurs="0" name="message" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Acknowledgement" type="tns:AcknowledgementType"/>
  <xsd:complexType name="QualifiedSubjectIdentifiersType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="QualifiedSubjectIdentifier" type="tns:QualifiedSubjectIdentifierType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="QualifiedSubjectIdentifiers" type="tns:QualifiedSubjectIdentifiersType"/>
  <xsd:complexType name="AssertionType">
    <xsd:sequence>
      <xsd:element name="address" type="tns:AddressType"/>
      <xsd:element name="dateOfBirth" type="xsd:string"/>
      <xsd:element name="dateOfSignature" type="xsd:string"/>
      <xsd:element name="expirationDate" type="xsd:string"/>
      <xsd:element name="explanationNonClaimantSignature" type="xsd:string"/>
      <xsd:element name="haveSecondWitnessSignature" type="xsd:boolean"/>
      <xsd:element name="haveSignature" type="xsd:boolean"/>
      <xsd:element name="haveWitnessSignature" type="xsd:boolean"/>
      <xsd:element name="homeCommunity" type="tns:HomeCommunityType"/>
      <xsd:element name="personName" type="tns:PersonNameType"/>
      <xsd:element name="phoneNumber" type="tns:PhoneType"/>
      <!--purposeOfDisclosure deprecated element-->
      <xsd:element name="purposeOfDisclosure" type="xsd:string"/>
      <xsd:element name="secondWitnessAddress" type="tns:AddressType"/>
      <xsd:element name="secondWitnessName" type="tns:PersonNameType"/>
      <xsd:element name="secondWitnessPhone" type="tns:PhoneType"/>
      <xsd:element name="SSN" type="xsd:string"/>
      <xsd:element maxOccurs="unbounded" name="uniquePatientId" type="xsd:string"/>
      <xsd:element name="witnessAddress" type="tns:AddressType"/>
      <xsd:element name="witnessName" type="tns:PersonNameType"/>
      <xsd:element name="witnessPhone" type="tns:PhoneType"/>
      <xsd:element name="userInfo" type="tns:UserType"/>
      <xsd:element name="authorized" type="xsd:boolean"/>
      <xsd:element minOccurs="0" name="purposeOfDisclosureCoded" type="tns:CeType"/>
      <xsd:element minOccurs="0" name="claimFormRef" type="xsd:string"/>
      <xsd:element minOccurs="0" name="claimFormRaw" type="xsd:base64Binary"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Assertion" type="tns:AssertionType"/>
  <xsd:complexType name="AddressType">
    <xsd:sequence>
      <xsd:element name="addressType" type="tns:CeType"/>
      <xsd:element name="city" type="xsd:string"/>
      <xsd:element name="country" type="xsd:string"/>
      <xsd:element name="state" type="xsd:string"/>
      <xsd:element name="streetAddress" type="xsd:string"/>
      <xsd:element name="zipCode" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Address" type="tns:AddressType"/>
  <xsd:complexType name="CeType">
    <xsd:sequence>
      <xsd:element name="code" type="xsd:string"/>
      <xsd:element name="codeSystem" type="xsd:string"/>
      <xsd:element name="codeSystemName" type="xsd:string"/>
      <xsd:element name="codeSystemVersion" type="xsd:string"/>
      <xsd:element name="displayName" type="xsd:string"/>
      <xsd:element name="originalText" type="xsd:string"/>
      <xsd:element maxOccurs="unbounded" name="translation" type="tns:CeType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Ce" type="tns:CeType"/>
  <xsd:complexType name="HomeCommunityType">
    <xsd:sequence>
      <xsd:element name="description" type="xsd:string"/>
      <xsd:element name="homeCommunityId" type="xsd:string"/>
      <xsd:element name="name" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="HomeCommunity" type="tns:HomeCommunityType"/>
  <xsd:complexType name="HomeCommunitiesType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="homeCommunity" type="tns:HomeCommunityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="HomeCommunities" type="tns:HomeCommunitiesType"/>
  <xsd:complexType name="PersonNameType">
    <xsd:sequence>
      <xsd:element name="familyName" type="xsd:string"/>
      <xsd:element name="givenName" type="xsd:string"/>
      <xsd:element name="nameType" type="tns:CeType"/>
      <xsd:element name="secondNameOrInitials" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="PersonName" type="tns:PersonNameType"/>
  <xsd:complexType name="PhoneType">
    <xsd:sequence>
      <xsd:element name="areaCode" type="xsd:string"/>
      <xsd:element name="countryCode" type="xsd:string"/>
      <xsd:element name="extension" type="xsd:string"/>
      <xsd:element name="localNumber" type="xsd:string"/>
      <xsd:element name="phoneNumberType" type="tns:CeType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Phone" type="tns:PhoneType"/>
  <xsd:complexType name="UserType">
    <xsd:sequence>
      <xsd:element name="personName" type="tns:PersonNameType"/>
      <xsd:element name="userName" type="xsd:string"/>
      <!--role deprecated element-->
      <xsd:element name="role" type="xsd:string"/>
      <xsd:element name="org" type="tns:HomeCommunityType"/>
      <xsd:element minOccurs="0" name="roleCoded" type="tns:CeType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="User" type="tns:UserType"/>
  <xsd:complexType name="EPRType">
    <xsd:sequence>
      <xsd:element name="EndpointReference" type="addr:EndpointReferenceType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="EPR" type="tns:EPRType"/>
  <xsd:complexType name="CreateEPRRequestType">
    <xsd:sequence>
      <xsd:element name="endpointURL" type="xsd:string"/>
      <xsd:element name="namespaceURI" type="xsd:string"/>
      <xsd:element name="namespacePrefix" type="xsd:string"/>
      <xsd:element name="serviceName" type="xsd:string"/>
      <xsd:element name="portName" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="CreateEPRRequest" type="tns:CreateEPRRequestType"/>
  <xsd:complexType name="NhinTargetSystemType">
    <xsd:choice>
      <xsd:element name="epr" type="tns:EPRType"/>
      <xsd:element name="homeCommunity" type="tns:HomeCommunityType"/>
      <xsd:element name="url" type="xsd:string"/>
    </xsd:choice>
  </xsd:complexType>
  <xsd:element name="NhinTargetSystem" type="tns:NhinTargetSystemType"/>
  <xsd:complexType name="ResponseType">
    <xsd:sequence>
      <xsd:element name="status" type="xsd:boolean"/>
      <xsd:element name="message" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="Response" type="tns:ResponseType"/>
  <xsd:complexType name="TokenCreationInfoType">
    <xsd:sequence>
      <xsd:element name="assertion" type="tns:AssertionType"/>
      <xsd:element name="actionName" type="xsd:string"/>
      <xsd:element name="resourceName" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="TokenCreationInfo" type="tns:TokenCreationInfoType"/>
  <xsd:complexType name="TokenRetrieveInfoType">
    <xsd:sequence>
      <xsd:element name="request" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="TokenRetrieveInfo" type="tns:TokenRetrieveInfoType"/>
  <xsd:complexType name="AssigningAuthorityType">
    <xsd:sequence>
      <xsd:element name="assigningAuthorityId" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="AssigningAuthority" type="tns:AssigningAuthorityType"/>
  <xsd:complexType name="AssigningAuthoritiesType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="assigningAuthority" type="tns:AssigningAuthorityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="assigningAuthorites" type="tns:AssigningAuthoritiesType"/>
  <xsd:complexType name="NhinTargetCommunityType">
    <xsd:sequence>
      <xsd:element name="homeCommunity" type="tns:HomeCommunityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:complexType name="NhinTargetCommunitiesType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" name="nhinTargetCommunity" type="tns:NhinTargetCommunityType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="NhinTargetCommunities" type="tns:NhinTargetCommunitiesType"/>
  <xsd:element name="NhinTargetCommunity" type="tns:NhinTargetCommunityType"/>
</xsd:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/../../xmlsoap.org/addressing.xsd</con:url><con:content><![CDATA[<xs:schema blockDefault="#all" elementFormDefault="qualified" targetNamespace="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing">
  <!--//////////////////// WS-Addressing ////////////////////-->
  <!--Endpoint reference-->
  <xs:element name="EndpointReference" type="wsa:EndpointReferenceType"/>
  <xs:complexType name="EndpointReferenceType">
    <xs:sequence>
      <xs:element name="Address" type="wsa:AttributedURI"/>
      <xs:element minOccurs="0" name="ReferenceProperties" type="wsa:ReferencePropertiesType"/>
      <xs:element minOccurs="0" name="ReferenceParameters" type="wsa:ReferenceParametersType"/>
      <xs:element minOccurs="0" name="PortType" type="wsa:AttributedQName"/>
      <xs:element minOccurs="0" name="ServiceName" type="wsa:ServiceNameType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax">
        <xs:annotation>
          <xs:documentation>If "Policy" elements from namespace "http://schemas.xmlsoap.org/ws/2002/12/policy#policy" are used, they must appear first (before any extensibility elements).</xs:documentation>
        </xs:annotation>
      </xs:any>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:complexType name="ReferencePropertiesType">
    <xs:sequence>
      <xs:any maxOccurs="unbounded" minOccurs="0" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ReferenceParametersType">
    <xs:sequence>
      <xs:any maxOccurs="unbounded" minOccurs="0" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ServiceNameType">
    <xs:simpleContent>
      <xs:extension base="xs:QName">
        <xs:attribute name="PortName" type="xs:NCName"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <!--Message information header blocks-->
  <xs:element name="MessageID" type="wsa:AttributedURI"/>
  <xs:element name="RelatesTo" type="wsa:Relationship"/>
  <xs:element name="To" type="wsa:AttributedURI"/>
  <xs:element name="Action" type="wsa:AttributedURI"/>
  <xs:element name="From" type="wsa:EndpointReferenceType"/>
  <xs:element name="ReplyTo" type="wsa:EndpointReferenceType"/>
  <xs:element name="FaultTo" type="wsa:EndpointReferenceType"/>
  <xs:complexType name="Relationship">
    <xs:simpleContent>
      <xs:extension base="xs:anyURI">
        <xs:attribute name="RelationshipType" type="xs:QName" use="optional"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="RelationshipTypeValues">
    <xs:restriction base="xs:QName">
      <xs:enumeration value="wsa:Reply"/>
    </xs:restriction>
  </xs:simpleType>
  <!--June 19, 2007: The ReplyAfter element is deprecated. The name of this element does not match the
    name (RetryAfter) used in the specification (http://www.w3.org/Submission/2004/SUBM-ws-addressing-20040810/).-->
  <xs:element name="ReplyAfter" type="wsa:ReplyAfterType"/>
  <xs:complexType name="ReplyAfterType">
    <xs:simpleContent>
      <xs:extension base="xs:nonNegativeInteger">
        <xs:anyAttribute namespace="##other"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <!--June 19, 2007: The RetryAfter element has been added to be consistent with the specification
    (http://www.w3.org/Submission/2004/SUBM-ws-addressing-20040810/).-->
  <xs:element name="RetryAfter" type="wsa:RetryAfterType"/>
  <xs:complexType name="RetryAfterType">
    <xs:simpleContent>
      <xs:extension base="xs:nonNegativeInteger">
        <xs:anyAttribute namespace="##other"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="FaultSubcodeValues">
    <xs:restriction base="xs:QName">
      <xs:enumeration value="wsa:InvalidMessageInformationHeader"/>
      <xs:enumeration value="wsa:MessageInformationHeaderRequired"/>
      <xs:enumeration value="wsa:DestinationUnreachable"/>
      <xs:enumeration value="wsa:ActionNotSupported"/>
      <xs:enumeration value="wsa:EndpointUnavailable"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:attribute name="Action" type="xs:anyURI"/>
  <!--Common declarations and definitions-->
  <xs:complexType name="AttributedQName">
    <xs:simpleContent>
      <xs:extension base="xs:QName">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="AttributedURI">
    <xs:simpleContent>
      <xs:extension base="xs:anyURI">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/../../../schemas/nhinc/common/../../xmlsoap.org/addressing.xsd</con:url><con:content><![CDATA[<xs:schema blockDefault="#all" elementFormDefault="qualified" targetNamespace="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing">
  <!--//////////////////// WS-Addressing ////////////////////-->
  <!--Endpoint reference-->
  <xs:element name="EndpointReference" type="wsa:EndpointReferenceType"/>
  <xs:complexType name="EndpointReferenceType">
    <xs:sequence>
      <xs:element name="Address" type="wsa:AttributedURI"/>
      <xs:element minOccurs="0" name="ReferenceProperties" type="wsa:ReferencePropertiesType"/>
      <xs:element minOccurs="0" name="ReferenceParameters" type="wsa:ReferenceParametersType"/>
      <xs:element minOccurs="0" name="PortType" type="wsa:AttributedQName"/>
      <xs:element minOccurs="0" name="ServiceName" type="wsa:ServiceNameType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax">
        <xs:annotation>
          <xs:documentation>If "Policy" elements from namespace "http://schemas.xmlsoap.org/ws/2002/12/policy#policy" are used, they must appear first (before any extensibility elements).</xs:documentation>
        </xs:annotation>
      </xs:any>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:complexType name="ReferencePropertiesType">
    <xs:sequence>
      <xs:any maxOccurs="unbounded" minOccurs="0" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ReferenceParametersType">
    <xs:sequence>
      <xs:any maxOccurs="unbounded" minOccurs="0" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ServiceNameType">
    <xs:simpleContent>
      <xs:extension base="xs:QName">
        <xs:attribute name="PortName" type="xs:NCName"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <!--Message information header blocks-->
  <xs:element name="MessageID" type="wsa:AttributedURI"/>
  <xs:element name="RelatesTo" type="wsa:Relationship"/>
  <xs:element name="To" type="wsa:AttributedURI"/>
  <xs:element name="Action" type="wsa:AttributedURI"/>
  <xs:element name="From" type="wsa:EndpointReferenceType"/>
  <xs:element name="ReplyTo" type="wsa:EndpointReferenceType"/>
  <xs:element name="FaultTo" type="wsa:EndpointReferenceType"/>
  <xs:complexType name="Relationship">
    <xs:simpleContent>
      <xs:extension base="xs:anyURI">
        <xs:attribute name="RelationshipType" type="xs:QName" use="optional"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="RelationshipTypeValues">
    <xs:restriction base="xs:QName">
      <xs:enumeration value="wsa:Reply"/>
    </xs:restriction>
  </xs:simpleType>
  <!--June 19, 2007: The ReplyAfter element is deprecated. The name of this element does not match the
    name (RetryAfter) used in the specification (http://www.w3.org/Submission/2004/SUBM-ws-addressing-20040810/).-->
  <xs:element name="ReplyAfter" type="wsa:ReplyAfterType"/>
  <xs:complexType name="ReplyAfterType">
    <xs:simpleContent>
      <xs:extension base="xs:nonNegativeInteger">
        <xs:anyAttribute namespace="##other"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <!--June 19, 2007: The RetryAfter element has been added to be consistent with the specification
    (http://www.w3.org/Submission/2004/SUBM-ws-addressing-20040810/).-->
  <xs:element name="RetryAfter" type="wsa:RetryAfterType"/>
  <xs:complexType name="RetryAfterType">
    <xs:simpleContent>
      <xs:extension base="xs:nonNegativeInteger">
        <xs:anyAttribute namespace="##other"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="FaultSubcodeValues">
    <xs:restriction base="xs:QName">
      <xs:enumeration value="wsa:InvalidMessageInformationHeader"/>
      <xs:enumeration value="wsa:MessageInformationHeaderRequired"/>
      <xs:enumeration value="wsa:DestinationUnreachable"/>
      <xs:enumeration value="wsa:ActionNotSupported"/>
      <xs:enumeration value="wsa:EndpointUnavailable"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:attribute name="Action" type="xs:anyURI"/>
  <!--Common declarations and definitions-->
  <xs:complexType name="AttributedQName">
    <xs:simpleContent>
      <xs:extension base="xs:QName">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="AttributedURI">
    <xs:simpleContent>
      <xs:extension base="xs:anyURI">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://172.16.50.82:9080/PatientCorrelationFacadeService/PatientCorrelationFacadeService?wsdl</con:url><con:content><![CDATA[<definitions name="PatientCorrelationFacade" targetNamespace="urn:gov:hhs:fha:nhinc:componentpatientcorrelationfacade" xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:ncpc="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="urn:gov:hhs:fha:nhinc:componentpatientcorrelationfacade" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:nccommon="urn:gov:hhs:fha:nhinc:common:nhinccommon">
  <types>
    <xsd:schema targetNamespace="urn:gov:hhs:fha:nhinc:component:patientcorrelationfacade" xmlns:tns="urn:gov:hhs:fha:nhinc:component:patientcorrelationfacade">
      <xsd:import namespace="urn:gov:hhs:fha:nhinc:common:nhinccommon" schemaLocation="http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/NhincCommon.xsd"/>
      <xsd:import namespace="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" schemaLocation="http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/PatientCorrelationFacade.xsd"/>
    </xsd:schema>
  </types>
  <message name="AddPatientCorrelationRequestMessage">
    <part name="AddPatientCorrelationRequest" element="ncpc:AddPatientCorrelationRequest"></part>
  </message>
  <message name="RemovePatientCorrelationRequestMessage">
    <part name="RemovePatientCorrelationRequest" element="ncpc:RemovePatientCorrelationRequest"></part>
  </message>
  <message name="RemovePatientCorrelationResponseMessage">
    <part name="ack" element="nccommon:Acknowledgement"></part>
  </message>
  <message name="RetrievePatientCorrelationsResponseMessage">
    <part name="RetrievePatientCorrelationsResponse" element="ncpc:RetrievePatientCorrelationsResponse"></part>
  </message>
  <message name="RetrievePatientCorrelationsRequestMessage">
    <part name="RetrievePatientCorrelationsRequest" element="ncpc:RetrievePatientCorrelationsRequest"></part>
  </message>
  <message name="AddPatientCorrelationResponseMessage">
    <part name="ack" element="nccommon:Acknowledgement"></part>
  </message>
  <portType name="PatientCorrelationFacadePortType">
    <operation name="RetrievePatientCorrelations">
      <input name="RetrievePatientCorrelationsRequest" message="tns:RetrievePatientCorrelationsRequestMessage"></input>
      <output name="RetrievePatientCorrelationsResponse" message="tns:RetrievePatientCorrelationsResponseMessage"></output>
    </operation>
    <operation name="AddPatientCorrelation">
      <input name="AddPatientCorrelationRequest" message="tns:AddPatientCorrelationRequestMessage"></input>
      <output name="AddPatientCorrelationResponse" message="tns:AddPatientCorrelationResponseMessage"></output>
    </operation>
    <operation name="RemovePatientCorrelation">
      <input name="RemovePatientCorrelationRequest" message="tns:RemovePatientCorrelationRequestMessage"></input>
      <output name="RemovePatientCorrelationResponse" message="tns:RemovePatientCorrelationResponseMessage"></output>
    </operation>
  </portType>
  <binding name="PatientCorrelationFacadeBinding" type="tns:PatientCorrelationFacadePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="RetrievePatientCorrelations">
      <soap:operation soapAction="RetrievePatientCorrelations"/>
      <input name="RetrievePatientCorrelationsRequest">
        <soap:body use="literal"/>
      </input>
      <output name="RetrievePatientCorrelationsResponse">
        <soap:body use="literal"/>
      </output>
    </operation>
    <operation name="AddPatientCorrelation">
      <soap:operation soapAction="AddPatientCorrelation"/>
      <input name="AddPatientCorrelationRequest">
        <soap:body use="literal"/>
      </input>
      <output name="AddPatientCorrelationResponse">
        <soap:body use="literal"/>
      </output>
    </operation>
    <operation name="RemovePatientCorrelation">
      <soap:operation soapAction="RemovePatientCorrelation"/>
      <input name="RemovePatientCorrelationRequest">
        <soap:body use="literal"/>
      </input>
      <output name="RemovePatientCorrelationResponse">
        <soap:body use="literal"/>
      </output>
    </operation>
  </binding>
  <service name="PatientCorrelationService">
    <port name="PatientCorrelationFacadePort" binding="tns:PatientCorrelationFacadeBinding">
      <soap:address location="http://MHSNHIE3.fedsconnect.org:9080/PatientCorrelationFacadeService"/>
    </port>
  </service>
  <plnk:partnerLinkType name="PatientCorrelationFacadePartnerLinkType">
    <plnk:role name="PatientCorrelationPortTypeRole" portType="tns:PatientCorrelationFacadePortType"/>
  </plnk:partnerLinkType>
</definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/PatientCorrelationFacade.xsd</con:url><con:content><![CDATA[<xsd:schema elementFormDefault="qualified" targetNamespace="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:nccommon="urn:gov:hhs:fha:nhinc:common:nhinccommon" xmlns:tns="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade">
  <xsd:import namespace="urn:gov:hhs:fha:nhinc:common:nhinccommon" schemaLocation="http://MHSNHIE3.fedsconnect.org:9080/NhincCoreCA-sun-http-binding/PatientCorrelationFacadeBpel/META-INF/src/_references/_projects/Interfaces/src/wsdl/../schemas/nhinc/common/../../../schemas/nhinc/common/NhincCommon.xsd"/>
  <xsd:complexType name="RetrievePatientCorrelationsRequestType">
    <xsd:sequence>
      <xsd:element maxOccurs="1" minOccurs="1" name="QualifiedPatientIdentifier" type="nccommon:QualifiedSubjectIdentifierType"/>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="TargetAssigningAuthority" type="xsd:string"/>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="TargetHomeCommunity" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="RetrievePatientCorrelationsRequest" type="tns:RetrievePatientCorrelationsRequestType"/>
  <xsd:complexType name="RetrievePatientCorrelationsResponseType">
    <xsd:sequence>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="QualifiedPatientIdentifier" type="nccommon:QualifiedSubjectIdentifierType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="RetrievePatientCorrelationsResponse" type="tns:RetrievePatientCorrelationsResponseType"/>
  <xsd:complexType name="AddPatientCorrelationRequestType">
    <xsd:sequence>
      <xsd:element maxOccurs="2" minOccurs="2" name="QualifiedPatientIdentifier" type="nccommon:QualifiedSubjectIdentifierType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="AddPatientCorrelationRequest" type="tns:AddPatientCorrelationRequestType"/>
  <xsd:complexType name="AddPatientCorrelationResponseType">
    <xsd:sequence>
      <xsd:element name="Ack" type="nccommon:AcknowledgementType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="AddPatientCorrelationResponse" type="tns:AddPatientCorrelationResponseType"/>
  <xsd:complexType name="RemovePatientCorrelationRequestType">
    <xsd:sequence>
      <xsd:element maxOccurs="2" minOccurs="2" name="QualifiedPatientIdentifier" type="nccommon:QualifiedSubjectIdentifierType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="RemovePatientCorrelationRequest" type="tns:RemovePatientCorrelationRequestType"/>
  <xsd:complexType name="RemovePatientCorrelationResponseType">
    <xsd:sequence>
      <xsd:element name="Ack" type="nccommon:AcknowledgementType"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="RemovePatientCorrelationResponse" type="tns:RemovePatientCorrelationResponseType"/>
</xsd:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:${HttpDefaultPort}/PatientCorrelationFacadeService</con:endpoint><con:endpoint>http://ATHC-GFAS:9080/PatientCorrelationFacadeService</con:endpoint><con:endpoint>http://172.16.50.82:9080/PatientCorrelationFacadeService</con:endpoint><con:endpoint>http://MHSNHIE3.fedsconnect.org:9080/PatientCorrelationFacadeService</con:endpoint></con:endpoints><con:operation isOneWay="false" action="AddPatientCorrelation" name="AddPatientCorrelation" bindingOperationName="AddPatientCorrelation" type="Request-Response" outputName="AddPatientCorrelationResponse" inputName="AddPatientCorrelationRequest" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/></con:operation><con:operation isOneWay="false" action="RemovePatientCorrelation" name="RemovePatientCorrelation" bindingOperationName="RemovePatientCorrelation" type="Request-Response" outputName="RemovePatientCorrelationResponse" inputName="RemovePatientCorrelationRequest" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/></con:operation><con:operation isOneWay="false" action="RetrievePatientCorrelations" name="RetrievePatientCorrelations" bindingOperationName="RetrievePatientCorrelations" type="Request-Response" outputName="RetrievePatientCorrelationsResponse" inputName="RetrievePatientCorrelationsRequest" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/></con:operation></con:interface><con:testSuite name="PatientCorrelationFacade"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add multiple #1" searchProperties="true" id="8dc150a5-1a1f-4d27-847d-cc1a547422c9"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://172.16.50.82:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://172.16.50.82:9080/PatientCorrelationService</con:value></con:property><con:property><con:name>SUT.EntityEndpoint</con:name><con:value>http://mhsnhie2.fedsconnect.org:18181/EntityServiceService/EntityServicePort</con:value></con:property><con:property><con:name>SUT.RemoteMPI</con:name><con:value>//192.168.25.157/glassfish/domains/domain1/config/mpi.xml</con:value></con:property><con:property><con:name>SUT.LocalMPI</con:name><con:value>//192.168.25.157/glassfish/domains/domain1/config/mpi.xml</con:value></con:property><con:property><con:name>SUT.EntityDocQueryEndpoint</con:name><con:value>http://192.168.25.157:10080/NhinConnect/EntityDocQuery</con:value></con:property><con:property><con:name>SUT.EntityDocRetrieveEndpoint</con:name><con:value>http://192.168.25.157:10080/NhinConnect/EntityDocRetrieve</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table" disabled="true"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Add multiple #1</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123401</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000000</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://172.16.50.82:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>Test01</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>Test02</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://172.16.50.82:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.4</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>${SelectedPatientData#RemoteSubjectID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#RemoteAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add multiple #2" searchProperties="true" id="0f618253-8e07-4ece-9b3e-64506dfb8e5f"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Add multiple #2</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123401</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000000</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000000</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>${SelectedPatientData#RemoteSubjectID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#RemoteAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Simple Retrieve" searchProperties="true" id="bf66fd84-3712-445b-9163-772993f29e8c"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Simple Retrieve</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123401</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000000</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000000</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000000</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>${SelectedPatientData#LocalSubjectID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#LocalAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Simple Retrieve with multiple in repository" searchProperties="true" id="c1e6b3dd-ca9b-42d1-848a-4169de65fe80"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Simple Retrieve - multi repo</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123402</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000001</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123403</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000002</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000001</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>${SelectedPatientData#LocalSubjectID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#LocalAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Multiple results" searchProperties="true" id="d29dbbfd-8645-4ee8-a21e-698da2303543"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Multiple results</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123402</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000001</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123403</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>IHS50002</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000001</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>D123402</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#LocalAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Retrieve with empty repository" searchProperties="true" id="dddd9bf0-3549-4556-8817-4128133ac1dd"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Retrieve with empty repository</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000005</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="Simple Contains"><con:configuration><token>"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Retrieve with no results" searchProperties="true" id="e18fb16c-201d-45c4-8e5c-ab54d54ba018"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Retrieve with no results</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (localSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value/></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value/></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000001</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123403</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000002</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000001</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="Simple Contains"><con:configuration><token>"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Simple Revoke" searchProperties="true" id="0a6fd00c-f9c2-42e5-b660-1426e7d2ff8a"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Revoke</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>endpointTransfer3</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Simple Revoke</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123411</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000009</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123411</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000009</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Revoke Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Revoke</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RemovePatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Revoke</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RemovePatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Revoke</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RemovePatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Revoke</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RemovePatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Revoke"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RemovePatientCorrelation</con:operation><con:request name="Revoke"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://MHSNHIE3.fedsconnect.org:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RemovePatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.4</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000000</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.3</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RemovePatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Retrieve Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Retrieve</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Retrieve"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Retrieve"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000009</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="Simple Contains"><con:configuration><token>"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Simple Translate" searchProperties="true" id="f8a794e0-76e9-452a-ac28-e360a84e004a"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Simple Translate</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123401</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000000</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>IHS500001</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>3.3</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Translate Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:TargetAssigningAuthority[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Translate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Translate"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123401</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:TargetAssigningAuthority>2.2</urn:TargetAssigningAuthority>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>${SelectedPatientData#RemoteSubjectID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#RemoteAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Simple Translate with multiple in repository" searchProperties="true" id="ae34260c-2495-4533-a76d-f6cd81c38393"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Simple Translate - multi rep</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123402</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value>500000001</con:value></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123403</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000002</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Translate Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:TargetAssigningAuthority[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Translate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Translate"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123402</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:TargetAssigningAuthority>2.2</urn:TargetAssigningAuthority>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:SubjectIdentifier[1]</path><content>${SelectedPatientData#RemoteSubjectID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:assertion type="XPath Match"><con:configuration><path>declare namespace ns2='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace ns4='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//ns4:RetrievePatientCorrelationsResponse[1]/ns4:QualifiedPatientIdentifier[1]/ns2:AssigningAuthorityIdentifier[1]</path><content>${SelectedPatientData#RemoteAssigningAuthorityID}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Target PC does not exist" searchProperties="true" id="a680b701-7bea-440b-8e61-6f5d8a5c2c9f"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Target PC does not exist</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123402</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value/></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>4.4</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123403</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000002</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Translate Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:TargetAssigningAuthority[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Translate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Translate"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://172.16.50.82:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/">
   <SOAP-ENV:Body>
      <ns1:RetrievePatientCorrelationsRequest xmlns:msgns="urn:gov:hhs:fha:nhinc:componentpatientcorrelationfacade" xmlns:ns1="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade">
         <ns1:QualifiedPatientIdentifier>
            <nccommon:SubjectIdentifier xmlns:nccommon="urn:gov:hhs:fha:nhinc:common:nhinccommon">D123401</nccommon:SubjectIdentifier>
            <nccommon:AssigningAuthorityIdentifier xmlns:nccommon="urn:gov:hhs:fha:nhinc:common:nhinccommon">1.4</nccommon:AssigningAuthorityIdentifier>
         </ns1:QualifiedPatientIdentifier>
         <ns1:TargetAssigningAuthority>1.3</ns1:TargetAssigningAuthority>
      </ns1:RetrievePatientCorrelationsRequest>
   </SOAP-ENV:Body>
</SOAP-ENV:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="Simple Contains"><con:configuration><token>"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Target patient does not exist" searchProperties="true" id="389f28f2-895b-40f7-92ee-698c33991a87"><con:settings/><con:testStep type="properties" name="Test Case Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:source>C:/projects/nhinc/Current/Product/IntegrationTest/default.properties</con:source><con:properties><con:property><con:name>SUT.PatientCorrelationFacade</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:value></con:property><con:property><con:name>SUT.PatientCorrelationHost</con:name><con:value>192.168.25.157</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPort</con:name><con:value>3306</con:value></con:property><con:property><con:name>SUT.PatientCorrelationDB</con:name><con:value>patientcorrelationdb</con:value></con:property><con:property><con:name>SUT.PatientCorrelationUser</con:name><con:value>epcuser</con:value></con:property><con:property><con:name>SUT.PatientCorrelationPass</con:name><con:value>epcpass</con:value></con:property><con:property><con:name>SUT.PatientCorrelationTable</con:name><con:value>correlatedidentifiers</con:value></con:property><con:property><con:name>SUT.PatientCorrelation</con:name><con:value>http://192.168.25.157:9080/PatientCorrelationService</con:value></con:property><con:property><con:name>SUT.EntityEndpoint</con:name><con:value>http://mhsnhie2.fedsconnect.org:18181/EntityServiceService/EntityServicePort</con:value></con:property><con:property><con:name>SUT.RemoteSystem</con:name><con:value>dvanhie2.fedsconnect.org</con:value></con:property><con:property><con:name>SUT.LocalSystem</con:name><con:value>mhsnhie2.fedsconnect.org</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="set patient correlation facade endpoint URL"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" disabled="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer1</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>endpointTransfer2</con:name><con:sourceType>SUT.PatientCorrelationFacade</con:sourceType><con:sourceStep>Test Case Properties</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>Endpoint</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Clear Correlation Table"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Test Case Properties" );
def host = dataSource.getPropertyValue( "SUT.PatientCorrelationHost" );
def port = dataSource.getPropertyValue( "SUT.PatientCorrelationPort" );
def db = dataSource.getPropertyValue( "SUT.PatientCorrelationDB" );
def user = dataSource.getPropertyValue( "SUT.PatientCorrelationUser" );
def pass = dataSource.getPropertyValue( "SUT.PatientCorrelationPass" );
def table = dataSource.getPropertyValue( "SUT.PatientCorrelationTable" );

DBFunctions.clearTable(host, port, db, user, pass, table);
</script></con:config></con:testStep><con:testStep type="groovy" name="ClearLocalData"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", null);
groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", null);</script></con:config></con:testStep><con:testStep type="datasource" name="Correlations"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>C:/projects/NHINC/Current/Product/IntegrationTest/CorrelationTests.xls</file><worksheet>Target patient does not exist</worksheet><cell>A1</cell><ignoreEmpty>false</ignoreEmpty></con:configuration></con:dataSource><con:property>RemoteSubjectID</con:property><con:property>RemoteAssigningAuthorityID</con:property><con:property>LocalSubjectID</con:property><con:property>LocalAssigningAuthorityID</con:property><con:property>Select</con:property><con:startRow>1</con:startRow><con:endRow/><con:trimValues>false</con:trimValues><con:entitizeValues>false</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="groovy" name="FindSelected"><con:settings/><con:config><script>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context );
def dataSource = testRunner.testCase.getTestStepByName( "Correlations" );
def selected = dataSource.getPropertyValue( "Select" );
def remoteSubjectID = dataSource.getPropertyValue( "RemoteSubjectID" );
def remoteAssigningAuthorityID = dataSource.getPropertyValue( "RemoteAssigningAuthorityID" );
def localSubjectID = dataSource.getPropertyValue( "LocalSubjectID" );
def localAssigningAuthorityID = dataSource.getPropertyValue( "LocalAssigningAuthorityID" );

if (selected != "") {
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteSubjectID", remoteSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "RemoteAssigningAuthorityID", remoteAssigningAuthorityID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalSubjectID", localSubjectID);
  groovyUtils.setPropertyValue( "SelectedPatientData", "LocalAssigningAuthorityID", localAssigningAuthorityID);
}

if (remoteSubjectID == "") testRunner.gotoStepByName( "DataSource Loop" );</script></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Add Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalSubjectID</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>LocalAssigningAuthorityID</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>RemoteSubjectID</con:name><con:sourceType>RemoteSubjectID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>Correlations</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Add</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:AddPatientCorrelationRequest[1]/urn:QualifiedPatientIdentifier[2]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="properties" name="SelectedPatientData"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>LocalSubjectID</con:name><con:value>D123404</con:value></con:property><con:property><con:name>LocalAssigningAuthorityID</con:name><con:value>1.1</con:value></con:property><con:property><con:name>RemoteSubjectID</con:name><con:value/></con:property><con:property><con:name>RemoteAssigningAuthorityID</con:name><con:value>2.2</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Add"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>AddPatientCorrelation</con:operation><con:request name="Add"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:AddPatientCorrelationRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123403</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>500000002</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>2.2</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
      </urn:AddPatientCorrelationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:testStep type="datasourceloop" name="DataSource Loop"><con:settings/><con:config><dataSourceStep>Correlations</dataSourceStep><targetStep>FindSelected</targetStep></con:config></con:testStep><con:testStep type="transfer" name="Spreadsheet->Translate Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>SubjectIdentifier</con:name><con:sourceType>LocalSubjectID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:SubjectIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>AssigningAuthorityIdentifier</con:name><con:sourceType>LocalAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:sourcePath/><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn1='urn:gov:hhs:fha:nhinc:common:nhinccommon';
declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:QualifiedPatientIdentifier[1]/urn1:AssigningAuthorityIdentifier[1]</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RemoteAssigningAuthorityID</con:name><con:sourceType>RemoteAssigningAuthorityID</con:sourceType><con:sourceStep>SelectedPatientData</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Translate</con:targetStep><con:targetPath>declare namespace urn='urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade';
//urn:RetrievePatientCorrelationsRequest[1]/urn:TargetAssigningAuthority[1]</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Translate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PatientCorrelationFacadeBinding</con:interface><con:operation>RetrievePatientCorrelations</con:operation><con:request name="Translate"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://192.168.25.157:9080/PatientCorrelationFacadeService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:gov:hhs:fha:nhinc:common:patientcorrelationfacade" xmlns:urn1="urn:gov:hhs:fha:nhinc:common:nhinccommon">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:RetrievePatientCorrelationsRequest>
         <urn:QualifiedPatientIdentifier>
            <urn1:SubjectIdentifier>D123404</urn1:SubjectIdentifier>
            <urn1:AssigningAuthorityIdentifier>1.1</urn1:AssigningAuthorityIdentifier>
         </urn:QualifiedPatientIdentifier>
         <urn:TargetAssigningAuthority>2.2</urn:TargetAssigningAuthority>
      </urn:RetrievePatientCorrelationsRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="Simple Contains"><con:configuration><token>"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:wsaConfig mustUnderstand="NONE" version="200508"/></con:request></con:config></con:testStep><con:setupScript>
</con:setupScript><con:properties/></con:testCase><con:properties/></con:testSuite><con:requirements/><con:properties/><con:wssContainer/></con:soapui-project>